{"version":3,"sources":["webpack://react-keyed-file-browser/webpack/universalModuleDefinition","webpack://react-keyed-file-browser/webpack/bootstrap","webpack://react-keyed-file-browser/external \"react\"","webpack://react-keyed-file-browser/external \"prop-types\"","webpack://react-keyed-file-browser/external \"date-fns\"","webpack://react-keyed-file-browser/external \"react-dnd\"","webpack://react-keyed-file-browser/external \"react-dnd-html5-backend\"","webpack://react-keyed-file-browser/external \"classnames\"","webpack://react-keyed-file-browser/external \"lodash\"","webpack://react-keyed-file-browser/./src/details/default.js","webpack://react-keyed-file-browser/./src/filters/default.js","webpack://react-keyed-file-browser/./src/utils.js","webpack://react-keyed-file-browser/./src/constants.js","webpack://react-keyed-file-browser/./src/base-file.js","webpack://react-keyed-file-browser/./src/headers/table.js","webpack://react-keyed-file-browser/./src/files/utils.js","webpack://react-keyed-file-browser/./src/files/list-thumbnail.js","webpack://react-keyed-file-browser/./src/files/simple-list-thumbnail.js","webpack://react-keyed-file-browser/./src/files/table.js","webpack://react-keyed-file-browser/./src/base-folder.js","webpack://react-keyed-file-browser/./src/folders/list-thumbnail.js","webpack://react-keyed-file-browser/./src/folders/table.js","webpack://react-keyed-file-browser/./src/confirmations/default.js","webpack://react-keyed-file-browser/./src/confirmations/multiple.js","webpack://react-keyed-file-browser/./src/groupers/by-folder.js","webpack://react-keyed-file-browser/./src/groupers/by-modified.js","webpack://react-keyed-file-browser/./src/groupers/utils.js","webpack://react-keyed-file-browser/./src/sorters/utils.js","webpack://react-keyed-file-browser/./src/sorters/by-name.js","webpack://react-keyed-file-browser/./src/sorters/by-modified.js","webpack://react-keyed-file-browser/./src/actions/default.js","webpack://react-keyed-file-browser/./src/browser.js","webpack://react-keyed-file-browser/./src/icons/FontAwesome.js","webpack://react-keyed-file-browser/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","Detail","handleCloseClick","event","preventDefault","props","close","this","file","split","length","href","onClick","React","Component","propTypes","PropTypes","shape","string","isRequired","extension","url","func","Filter","handleFilterChange","newValue","filterRef","updateFilter","id","ref","el","type","placeholder","onChange","htmlFor","icons","Search","isFolder","endsWith","moveFilesAndFolders","monitor","component","didDrop","dropResult","getDropResult","folders","files","browserProps","selection","forEach","push","openFolder","path","fileKey","fileNameParts","folderName","newKey","substr","moveFolder","fileName","moveFile","extensionMapping","entries","Archive","Audio","Excel","Image","PDF","PowerPoint","Text","Video","Word","Code","BaseFile","state","newName","getName","handleFileClick","preview","getExtension","handleItemClick","stopPropagation","select","ctrlKey","metaKey","shiftKey","handleItemDoubleClick","handleRenameClick","renameFile","beginAction","handleNewNameChange","newNameRef","setState","handleRenameSubmit","trim","some","char","indexOf","slashIndex","lastIndexOf","handleDeleteClick","deleteFile","handleDeleteSubmit","actionTargets","handleCancelEdit","endAction","oldProps","oldState","isRenaming","requestAnimationFrame","currentName","pointIndex","setSelectionRange","focus","blobs","toLowerCase","render","inAction","isDragging","action","connectDragSource","createFiles","connectDropTarget","bool","BaseFileConnectors","dragSource","beginDrag","includes","endDrag","dragCollect","connect","connectDragPreview","dragPreview","targetSource","drop","item","getItem","targetCollect","dropTarget","isOver","shallow","RawTableHeader","header","className","ClassNames","dragover","selected","isSelected","isShouldShowShared","TableHeader","DropTarget","NativeTypes","FILE","fileSize","size","kbSize","floatValue","precision","parseFloat","isNaN","toFixed","power","Math","pow","round","toString","floatPrecision","RawListThumbnailFile","icon","thumbnailUrl","thumbnail_url","isSelectable","isDeleting","showName","showSize","showModified","style","backgroundImage","getFileType","File","modified","ConfirmDeletionRenderer","confirmDeletionRenderer","onSubmit","onBlur","autoFocus","download","formatDistanceToNow","addSuffix","rowProps","row","pending","dragging","onDoubleClick","status","Lock","connectDND","defaultProps","ListThumbnailFile","DragSource","SimpleListThumbnailFile","RawTableFile","depth","sharer","draggable","Checked","Unchecked","paddingLeft","TableFile","BaseFolder","isDraft","selectAllNewName","handleFolderClick","handleFolderDoubleClick","toggleFolder","renameFolder","createFolder","deleteFolder","keyDerived","BaseFolderConnectors","RawListThumbnailFolder","children","isOpen","nestChildren","childIndex","thisItemProps","getItemProps","folderRenderer","folderRendererProps","fileRenderer","fileRendererProps","padding","folder","expanded","ListThumbnailFolder","RawTableFolder","TableFolder","ConfirmDeletion","node","MultipleConfirmDeletion","fileTree","contents","map","relativeKey","currentFolder","folderIndex","addAllChildren","level","prefix","undefined","concat","windows","now","timeWindows","Date","begins","startOfToday","ends","endOfToday","items","startOfYesterday","endOfYesterday","startOfWeek","endOfWeek","addWeeks","getMonth","startOfMonth","endOfMonth","fileIndex","newFile","allocated","fileModified","windex","timeWindow","newWindow","format","grouped","replace","NUMBER_GROUPS","naturalSortComparer","a","b","aa","String","bb","min","x","y","naturalDraftComparer","draft","naturalSort","allFiles","keyFolders","sort","sortedFiles","lastModifiedSort","compareAsc","Actions","selectedItems","nameFilter","canCreateFolder","onCreateFolder","canRenameFile","onRenameFile","canRenameFolder","onRenameFolder","canDeleteFile","onDeleteFile","canDeleteFolder","onDeleteFolder","canDownloadFile","onDownloadFile","actions","selectedItemsAction","filter","Set","actionText","Loading","FolderPlus","role","itemsWithoutKeyDerived","find","Rename","Delete","Download","arrayOf","regexForNewFolderOrFileSelection","openFolders","activeAction","RawFileBrowser","searchResultsShown","previewFile","addFolder","getFile","f","fileObj","keys","prevState","stateChanges","onCreateFiles","oldKey","onMoveFile","onMoveFolder","downloadFile","ids","match","onSelectionChange","selectedType","shouldClearState","newSelection","indexOfKey","slice","onSelect","onSelectFile","onSelectFolder","closeDetail","onPreviewOpen","onPreviewClose","handleShowMoreClick","folderKey","callback","onFolderOpen","handleGlobalClick","inBrowser","browserRef","contains","target","inPreview","previewRef","handleActionBarRenameClick","console","log","handleActionBarDeleteClick","handleActionBarAddFolderClick","addKey","handleActionBarDownloadClick","handleMultipleDeleteSubmit","renderStyle","warn","addEventListener","removeEventListener","confirmMultipleDeletionRenderer","canFilter","filterRendererProps","FilterRenderer","filterRenderer","ActionRenderer","actionRenderer","getBrowserProps","selectionIsFolder","actionBarRef","FileRenderer","FolderRenderer","renderedFiles","showFoldersOnFilter","renderFiles","headerProps","fileCount","filteredFiles","terms","skip","term","group","newFiles","findSelected","colSpan","noFilesMessage","headerRenderer","headerRendererProps","cellSpacing","cellPadding","more","ConfirmMultipleDeletionRenderer","showActionBar","renderActionBar","detailRenderer","detailRendererProps","file_id","oneOfType","number","oneOf","created","Folder","element","FolderOpen","startOpen","onFolderClose","GroupByFolder","SortByName","DefaultFilter","DefaultDetail","DefaultAction","fileOrFolder","isShouldInvokeCreateFolder","isShouldFireRename","FileBrowser","DragDropContext","HTML5Backend","IsFontAwesomeLoaded","version","fontNames","FontAwesomeLoaded","span","document","createElement","display","body","insertBefore","firstChild","getComputedStyle","getPropertyValue","removeChild","FontAwesomeIcons","majorVersion","aria-hidden","FolderFilled","FolderOpenFilled"],"mappings":"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","file":"react-keyed-file-browser.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-keyed-file-browser\"] = factory();\n\telse\n\t\troot[\"react-keyed-file-browser\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = require(\"react\");","module.exports = require(\"prop-types\");","module.exports = require(\"date-fns\");","module.exports = require(\"react-dnd\");","module.exports = require(\"react-dnd-html5-backend\");","module.exports = require(\"classnames\");","module.exports = require(\"lodash\");","import PropTypes from 'prop-types'\r\nimport React from 'react'\r\n\r\nclass Detail extends React.Component {\r\n  static propTypes = {\r\n    file: PropTypes.shape({\r\n      key: PropTypes.string.isRequired,\r\n      name: PropTypes.string.isRequired,\r\n      extension: PropTypes.string.isRequired,\r\n      url: PropTypes.string,\r\n    }).isRequired,\r\n    close: PropTypes.func,\r\n  }\r\n\r\n  handleCloseClick = (event) => {\r\n    if (event) {\r\n      event.preventDefault()\r\n    }\r\n    this.props.close()\r\n  }\r\n\r\n  render() {\r\n    let name = this.props.file.key.split('/')\r\n    name = name.length ? name[name.length - 1] : ''\r\n\r\n    return (\r\n      <div>\r\n        <h2>Item Detail</h2>\r\n        <dl>\r\n          <dt>Key</dt>\r\n          <dd>{this.props.file.key}</dd>\r\n\r\n          <dt>Name</dt>\r\n          <dd>{name}</dd>\r\n        </dl>\r\n        <a href=\"#\" onClick={this.handleCloseClick}>Close</a>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Detail\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\n\r\nclass Filter extends React.Component {\r\n  static propTypes = {\r\n    value: PropTypes.string.isRequired,\r\n    icons: PropTypes.object,\r\n    updateFilter: PropTypes.func,\r\n  };\r\n\r\n  handleFilterChange = (event) => {\r\n    const newValue = this.filterRef.value;\r\n    this.props.updateFilter(newValue);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section>\r\n        <input\r\n          id=\"filter-input\"\r\n          ref={(el) => {\r\n            this.filterRef = el;\r\n          }}\r\n          type=\"search\"\r\n          placeholder=\"Filter files\"\r\n          value={this.props.value}\r\n          onChange={this.handleFilterChange}\r\n        />\r\n        {this.props.value === \"\" ? (\r\n          <label htmlFor=\"filter-input\">{this.props.icons.Search}</label>\r\n        ) : null}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Filter;\r\n","function isFolder(file) {\r\n  return file.key.endsWith('/')\r\n}\r\n\r\nfunction moveFilesAndFolders(props, monitor, component) {\r\n  if (!monitor.didDrop()) {\r\n    return\r\n  }\r\n\r\n  const dropResult = monitor.getDropResult()\r\n\r\n  const folders = []\r\n  const files = []\r\n\r\n  props.browserProps.selection.forEach(selection => {\r\n    selection[selection.length - 1] === '/' ? folders.push(selection) : files.push(selection)\r\n  })\r\n\r\n  props.browserProps.openFolder(dropResult.path)\r\n\r\n  folders\r\n    .forEach(selection => {\r\n      const fileKey = selection\r\n      const fileNameParts = fileKey.split('/')\r\n      const folderName = fileNameParts[fileNameParts.length - 2]\r\n\r\n      const newKey = `${dropResult.path}${folderName}/`\r\n      // abort if the new folder name contains itself\r\n      if (newKey.substr(0, fileKey.length) === fileKey) return\r\n\r\n      if (newKey !== fileKey && props.browserProps.moveFolder) {\r\n        props.browserProps.moveFolder(fileKey, newKey)\r\n      }\r\n    })\r\n\r\n  files\r\n    .forEach(selection => {\r\n      const fileKey = selection\r\n      const fileNameParts = fileKey.split('/')\r\n      const fileName = fileNameParts[fileNameParts.length - 1]\r\n      const newKey = `${dropResult.path}${fileName}`\r\n      if (newKey !== fileKey && props.browserProps.moveFile) {\r\n        props.browserProps.moveFile(fileKey, newKey)\r\n      }\r\n    })\r\n}\r\n\r\nexport { isFolder, moveFilesAndFolders }\r\n","const FILETYPE_EXTENSIONS = {\r\n  Archive: [\r\n    'zip',\r\n    'rar',\r\n    '7z',\r\n  ],\r\n  Audio: [\r\n    'mp3',\r\n    'ogg',\r\n    'wav',\r\n    'aac',\r\n  ],\r\n  Excel: [\r\n    'xls',\r\n    'xlsx',\r\n  ],\r\n  Image: [\r\n    'jpg',\r\n    'jpeg',\r\n    'png',\r\n    'bmp',\r\n  ],\r\n  PDF: [\r\n    'pdf',\r\n  ],\r\n  PowerPoint: [\r\n    'ppt',\r\n    'pptx',\r\n  ],\r\n  Text: [\r\n    'txt',\r\n  ],\r\n  Video: [\r\n    'mp4',\r\n    'flv',\r\n    'avi',\r\n    'wmv',\r\n    'mov',\r\n  ],\r\n  Word: [\r\n    'doc',\r\n    'docx',\r\n  ],\r\n  Code: [\r\n    'js',\r\n  ],\r\n}\r\n\r\nconst extensionMapping = {}\r\n\r\nfor (const [type, extensions] of Object.entries(FILETYPE_EXTENSIONS)) {\r\n  for (const extension of extensions) {\r\n    extensionMapping[extension] = type\r\n  }\r\n}\r\n\r\nexport { extensionMapping }\r\n","// @ts-nocheck\r\nimport PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { moveFilesAndFolders } from \"./utils\";\r\nimport { extensionMapping } from \"./constants.js\";\r\n\r\nclass BaseFile extends React.Component {\r\n  static propTypes = {\r\n    fileKey: PropTypes.string,\r\n    url: PropTypes.string,\r\n\r\n    newKey: PropTypes.string,\r\n    isRenaming: PropTypes.bool,\r\n\r\n    connectDragSource: PropTypes.func,\r\n    connectDropTarget: PropTypes.func,\r\n    isDragging: PropTypes.bool,\r\n    action: PropTypes.string,\r\n\r\n    browserProps: PropTypes.shape({\r\n      icons: PropTypes.object,\r\n      select: PropTypes.func,\r\n      beginAction: PropTypes.func,\r\n      endAction: PropTypes.func,\r\n      preview: PropTypes.func,\r\n\r\n      createFiles: PropTypes.func,\r\n      moveFile: PropTypes.func,\r\n      moveFolder: PropTypes.func,\r\n      renameFile: PropTypes.func,\r\n      deleteFile: PropTypes.func,\r\n    }),\r\n  };\r\n\r\n  state = {\r\n    newName: this.getName(),\r\n  }\r\n\r\n  componentDidUpdate(oldProps, oldState) {\r\n    if (!oldProps.isRenaming && this.props.isRenaming) {\r\n      window.requestAnimationFrame(() => {\r\n        const currentName = this.newNameRef.value\r\n        const pointIndex = currentName.lastIndexOf('.')\r\n        this.newNameRef.setSelectionRange(0, pointIndex || currentName.length)\r\n        this.newNameRef.focus()\r\n      })\r\n    }\r\n  }\r\n\r\n  getName() {\r\n    let name = this.props.newKey || this.props.fileKey\r\n    const slashIndex = name.lastIndexOf('/')\r\n    if (slashIndex !== -1) {\r\n      name = name.substr(slashIndex + 1);\r\n    }\r\n    return name;\r\n  }\r\n  getExtension() {\r\n    const blobs = this.props.fileKey.split(\".\");\r\n    return blobs[blobs.length - 1].toLowerCase().trim();\r\n  }\r\n\r\n  getFileType() {\r\n    return extensionMapping[this.getExtension()] || \"File\";\r\n  }\r\n\r\n  handleFileClick = (event) => {\r\n    event && event.preventDefault();\r\n    this.props.browserProps.preview({\r\n      url: this.props.url,\r\n      name: this.getName(),\r\n      key: this.props.fileKey,\r\n      extension: this.getExtension(),\r\n    });\r\n  };\r\n  handleItemClick = (event) => {\r\n    event.stopPropagation();\r\n    this.props.browserProps.select(\r\n      this.props.fileKey,\r\n      \"file\",\r\n      event.ctrlKey || event.metaKey,\r\n      event.shiftKey\r\n    );\r\n  };\r\n  handleItemDoubleClick = (event) => {\r\n    event.stopPropagation();\r\n    this.handleFileClick();\r\n  };\r\n\r\n  handleRenameClick = (event) => {\r\n    if (!this.props.browserProps.renameFile) {\r\n      return;\r\n    }\r\n    this.props.browserProps.beginAction(\"rename\", this.props.fileKey);\r\n  };\r\n  handleNewNameChange = (event) => {\r\n    const newName = this.newNameRef.value\r\n    this.setState({ newName: newName })\r\n  }\r\n  handleRenameSubmit = (event) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n    if (!this.props.browserProps.renameFile) {\r\n      return;\r\n    }\r\n    const newName = this.state.newName.trim();\r\n    if (newName.length === 0) {\r\n      // todo: move to props handler\r\n      // window.notify({\r\n      //   style: 'error',\r\n      //   title: 'Invalid new file name',\r\n      //   body: 'File name cannot be blank',\r\n      // })\r\n      return;\r\n    }\r\n    const invalidChar = [\"/\", \"\\\\\"];\r\n    if (invalidChar.some((char) => newName.indexOf(char) !== -1)) return;\r\n    // todo: move to props handler\r\n    // window.notify({\r\n    //   style: 'error',\r\n    //   title: 'Invalid new file name',\r\n    //   body: 'File names cannot contain forward slashes.',\r\n    // })\r\n    let newKey = newName;\r\n    const slashIndex = this.props.fileKey.lastIndexOf(\"/\");\r\n    if (slashIndex !== -1) {\r\n      newKey = `${this.props.fileKey.substr(0, slashIndex)}/${newName}`;\r\n    }\r\n    this.props.browserProps.renameFile(this.props.fileKey, newKey);\r\n  };\r\n\r\n  handleDeleteClick = (event) => {\r\n    if (!this.props.browserProps.deleteFile) {\r\n      return;\r\n    }\r\n    this.props.browserProps.beginAction(\"delete\", this.props.fileKey);\r\n  };\r\n  handleDeleteSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (!this.props.browserProps.deleteFile) {\r\n      return;\r\n    }\r\n\r\n    this.props.browserProps.deleteFile(this.props.browserProps.actionTargets);\r\n  };\r\n\r\n  handleCancelEdit = (event) => {\r\n    this.props.browserProps.endAction();\r\n  };\r\n\r\n  connectDND(render) {\r\n    const inAction = this.props.isDragging || this.props.action;\r\n    if (\r\n      typeof this.props.browserProps.moveFile === \"function\" &&\r\n      !inAction &&\r\n      !this.props.isRenaming\r\n    ) {\r\n      render = this.props.connectDragSource(render);\r\n    }\r\n    if (\r\n      typeof this.props.browserProps.createFiles === \"function\" ||\r\n      typeof this.props.browserProps.moveFile === \"function\" ||\r\n      typeof this.props.browserProps.moveFolder === \"function\"\r\n    ) {\r\n      render = this.props.connectDropTarget(render);\r\n    }\r\n    return render;\r\n  }\r\n}\r\n\r\nconst dragSource = {\r\n  beginDrag(props) {\r\n    if (\r\n      !props.browserProps.selection.length ||\r\n      !props.browserProps.selection.includes(props.fileKey)\r\n    ) {\r\n      props.browserProps.select(props.fileKey, \"file\");\r\n    }\r\n    return {\r\n      key: props.fileKey,\r\n    };\r\n  },\r\n\r\n  endDrag(props, monitor, component) {\r\n    moveFilesAndFolders(props, monitor, component);\r\n  },\r\n};\r\n\r\nfunction dragCollect(connect, monitor) {\r\n  return {\r\n    connectDragPreview: connect.dragPreview(),\r\n    connectDragSource: connect.dragSource(),\r\n    isDragging: monitor.isDragging(),\r\n  };\r\n}\r\n\r\nconst targetSource = {\r\n  drop(props, monitor) {\r\n    if (monitor.didDrop()) {\r\n      return;\r\n    }\r\n    const key = props.newKey || props.fileKey;\r\n    const slashIndex = key.lastIndexOf(\"/\");\r\n    const path = slashIndex !== -1 ? key.substr(0, slashIndex + 1) : \"\";\r\n    const item = monitor.getItem();\r\n    if (item.files && props.browserProps.createFiles) {\r\n      props.browserProps.createFiles(item.files, path);\r\n    }\r\n    return {\r\n      path: path,\r\n    };\r\n  },\r\n};\r\n\r\nfunction targetCollect(connect, monitor) {\r\n  return {\r\n    connectDropTarget: connect.dropTarget(),\r\n    isOver: monitor.isOver({ shallow: true }),\r\n  };\r\n}\r\n\r\nconst BaseFileConnectors = {\r\n  dragSource,\r\n  dragCollect,\r\n  targetSource,\r\n  targetCollect,\r\n};\r\n\r\nexport default BaseFile;\r\nexport { BaseFileConnectors };\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport ClassNames from \"classnames\";\r\n\r\nimport { DropTarget } from \"react-dnd\";\r\nimport { NativeTypes } from \"react-dnd-html5-backend\";\r\n\r\nimport { BaseFileConnectors } from \"./../base-file.js\";\r\n\r\nclass RawTableHeader extends React.Component {\r\n  static propTypes = {\r\n    select: PropTypes.func,\r\n    fileKey: PropTypes.string,\r\n\r\n    connectDropTarget: PropTypes.func,\r\n    isOver: PropTypes.bool,\r\n    isSelected: PropTypes.func,\r\n    isShouldShowShared: PropTypes.bool,\r\n\r\n    browserProps: PropTypes.shape({\r\n      createFiles: PropTypes.func,\r\n      moveFolder: PropTypes.func,\r\n      moveFile: PropTypes.func,\r\n    }),\r\n  };\r\n\r\n  handleHeaderClick(event) {\r\n    this.props.select(this.props.fileKey);\r\n  }\r\n\r\n  render() {\r\n    const header = (\r\n      <tr\r\n        className={ClassNames(\"folder\", {\r\n          dragover: this.props.isOver,\r\n          selected: this.props.isSelected,\r\n        })}\r\n      >\r\n        <th>File</th>\r\n        {this.props.isShouldShowShared ? (\r\n          <th className=\"size\">Shared by</th>\r\n        ) : null}\r\n        <th className=\"size\">Size</th>\r\n        <th className=\"size\">Status</th>\r\n        <th className=\"modified\">Last Modified</th>\r\n      </tr>\r\n    );\r\n\r\n    if (\r\n      typeof this.props.browserProps.createFiles === \"function\" ||\r\n      typeof this.props.browserProps.moveFile === \"function\" ||\r\n      typeof this.props.browserProps.moveFolder === \"function\"\r\n    ) {\r\n      return this.props.connectDropTarget(header);\r\n    } else {\r\n      return header;\r\n    }\r\n  }\r\n}\r\n\r\n@DropTarget(\r\n  [\"file\", \"folder\", NativeTypes.FILE],\r\n  BaseFileConnectors.targetSource,\r\n  BaseFileConnectors.targetCollect\r\n)\r\nclass TableHeader extends RawTableHeader {}\r\n\r\nexport default TableHeader;\r\nexport { RawTableHeader };\r\n","function floatPrecision(floatValue, precision) {\r\n  floatValue = parseFloat(floatValue)\r\n  if (isNaN(floatValue)) { return parseFloat('0').toFixed(precision) } else {\r\n    const power = Math.pow(10, precision)\r\n    floatValue = (Math.round(floatValue * power) / power).toFixed(precision)\r\n    return floatValue.toString()\r\n  }\r\n}\r\n\r\nfunction fileSize(size) {\r\n  if (size > 1024) {\r\n    const kbSize = size / 1024\r\n    if (kbSize > 1024) {\r\n      const mbSize = kbSize / 1024\r\n      return `${floatPrecision(mbSize, 2)} MB`\r\n    }\r\n    return `${Math.round(kbSize)} kB`\r\n  }\r\n  return `${size} B`\r\n}\r\n\r\nexport { floatPrecision, fileSize }\r\n","import React from \"react\";\r\nimport ClassNames from \"classnames\";\r\nimport { DragSource, DropTarget } from \"react-dnd\";\r\nimport { NativeTypes } from \"react-dnd-html5-backend\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\n\r\nimport BaseFile, { BaseFileConnectors } from \"./../base-file.js\";\r\nimport { fileSize } from \"./utils.js\";\r\n\r\nclass RawListThumbnailFile extends BaseFile {\r\n  static defaultProps = {\r\n    showName: true,\r\n    showSize: true,\r\n    showModified: true,\r\n    isSelectable: true,\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      thumbnail_url: thumbnailUrl,\r\n      action,\r\n      url,\r\n      isDragging,\r\n      isRenaming,\r\n      isSelected,\r\n      isSelectable,\r\n      isOver,\r\n      isDeleting,\r\n      showName,\r\n      showSize,\r\n      showModified,\r\n      browserProps,\r\n      connectDragPreview,\r\n    } = this.props;\r\n\r\n    let icon;\r\n    if (thumbnailUrl) {\r\n      icon = (\r\n        <div\r\n          className=\"image\"\r\n          style={{\r\n            backgroundImage: \"url(\" + thumbnailUrl + \")\",\r\n          }}\r\n        />\r\n      );\r\n    } else {\r\n      icon = browserProps.icons[this.getFileType()] || browserProps.icons.File;\r\n    }\r\n\r\n    const inAction = isDragging || action;\r\n\r\n    const ConfirmDeletionRenderer = browserProps.confirmDeletionRenderer;\r\n\r\n    let name;\r\n    if (showName) {\r\n      if (!inAction && isDeleting && browserProps.selection.length === 1) {\r\n        name = (\r\n          <ConfirmDeletionRenderer\r\n            handleDeleteSubmit={this.handleDeleteSubmit}\r\n            handleFileClick={this.handleFileClick}\r\n            url={url}\r\n          >\r\n            {this.getName()}\r\n          </ConfirmDeletionRenderer>\r\n        );\r\n      } else if (!inAction && isRenaming) {\r\n        name = (\r\n          <form className=\"renaming\" onSubmit={this.handleRenameSubmit}>\r\n            <input\r\n              ref={(el) => {\r\n                this.newNameRef = el;\r\n              }}\r\n              type=\"text\"\r\n              value={this.state.newName}\r\n              onChange={this.handleNewNameChange}\r\n              onBlur={this.handleCancelEdit}\r\n              autoFocus\r\n            />\r\n          </form>\r\n        );\r\n      } else {\r\n        name = (\r\n          <a href={url} download=\"download\" onClick={this.handleFileClick}>\r\n            {this.getName()}\r\n          </a>\r\n        );\r\n      }\r\n    }\r\n\r\n    let size;\r\n    if (showSize) {\r\n      if (!isRenaming && !isDeleting) {\r\n        size = (\r\n          <span className=\"size\">\r\n            <small>{fileSize(this.props.size)}</small>\r\n          </span>\r\n        );\r\n      }\r\n    }\r\n    let modified;\r\n    if (showModified) {\r\n      if (!isRenaming && !isDeleting) {\r\n        modified = (\r\n          <span className=\"modified\">\r\n            Last modified:{\" \"}\r\n            {formatDistanceToNow(this.props.modified, { addSuffix: true })}\r\n          </span>\r\n        );\r\n      }\r\n    }\r\n\r\n    let rowProps = {};\r\n    if (isSelectable) {\r\n      rowProps = {\r\n        onClick: this.handleItemClick,\r\n      };\r\n    }\r\n\r\n    let row = (\r\n      <li\r\n        className={ClassNames(\"file\", {\r\n          pending: action,\r\n          dragging: isDragging,\r\n          dragover: isOver,\r\n          selected: isSelected,\r\n        })}\r\n        onDoubleClick={this.handleItemDoubleClick}\r\n        {...rowProps}\r\n      >\r\n        <div className=\"item\">\r\n          <span className=\"thumb\">{icon}</span>\r\n          <span className=\"name\">{name}</span>\r\n          <span className=\"status\">\r\n            <span className=\"encrypted-icon\">\r\n              {this.props.status === \"encrypted\"\r\n                ? browserProps.icons.Lock\r\n                : null}\r\n            </span>\r\n            {this.props.status}\r\n          </span>\r\n          {size}\r\n          {modified}\r\n        </div>\r\n      </li>\r\n    );\r\n    if (typeof browserProps.moveFile === \"function\") {\r\n      row = connectDragPreview(row);\r\n    }\r\n\r\n    return this.connectDND(row);\r\n  }\r\n}\r\n\r\n@DragSource(\r\n  \"file\",\r\n  BaseFileConnectors.dragSource,\r\n  BaseFileConnectors.dragCollect\r\n)\r\n@DropTarget(\r\n  [\"file\", \"folder\", NativeTypes.FILE],\r\n  BaseFileConnectors.targetSource,\r\n  BaseFileConnectors.targetCollect\r\n)\r\nclass ListThumbnailFile extends RawListThumbnailFile {}\r\n\r\nexport default ListThumbnailFile;\r\nexport { RawListThumbnailFile };\r\n","import React from 'react'\r\n\r\nimport ListThumbnailFile from './list-thumbnail.js'\r\n\r\nclass SimpleListThumbnailFile extends React.Component {\r\n  render() {\r\n    return (\r\n      <ListThumbnailFile\r\n        {...this.props}\r\n        showName={false}\r\n        showSize={false}\r\n        showModified={false}\r\n        isSelectable={false}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport default SimpleListThumbnailFile\r\n","import React from \"react\";\r\nimport ClassNames from \"classnames\";\r\nimport { DragSource, DropTarget } from \"react-dnd\";\r\nimport { NativeTypes } from \"react-dnd-html5-backend\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\n\r\nimport BaseFile, { BaseFileConnectors } from \"./../base-file.js\";\r\nimport { fileSize } from \"./utils.js\";\r\n\r\nclass RawTableFile extends BaseFile {\r\n  render() {\r\n    const {\r\n      isDragging,\r\n      isDeleting,\r\n      isRenaming,\r\n      isOver,\r\n      isSelected,\r\n      action,\r\n      url,\r\n      browserProps,\r\n      connectDragPreview,\r\n      depth,\r\n      isShouldShowShared,\r\n      sharer,\r\n      size,\r\n      status,\r\n      modified,\r\n    } = this.props;\r\n\r\n    const icon =\r\n      browserProps.icons[this.getFileType()] || browserProps.icons.File;\r\n    const inAction = isDragging || action;\r\n\r\n    const ConfirmDeletionRenderer = browserProps.confirmDeletionRenderer;\r\n\r\n    let name;\r\n    if (!inAction && isDeleting && browserProps.selection.length === 1) {\r\n      name = (\r\n        <ConfirmDeletionRenderer\r\n          handleDeleteSubmit={this.handleDeleteSubmit}\r\n          handleFileClick={this.handleFileClick}\r\n          url={url}\r\n        >\r\n          {icon}\r\n          {this.getName()}\r\n        </ConfirmDeletionRenderer>\r\n      );\r\n    } else if (!inAction && isRenaming) {\r\n      name = (\r\n        <form className=\"renaming\" onSubmit={this.handleRenameSubmit}>\r\n          {icon}\r\n          <input\r\n            ref={(el) => {\r\n              this.newNameRef = el;\r\n            }}\r\n            type=\"text\"\r\n            value={this.state.newName}\r\n            onChange={this.handleNewNameChange}\r\n            onBlur={this.handleCancelEdit}\r\n            autoFocus\r\n          />\r\n        </form>\r\n      );\r\n    } else {\r\n      name = (\r\n        <a href={url || \"#\"} download=\"download\" onClick={this.handleFileClick}>\r\n          {icon}\r\n          {this.getName()}\r\n        </a>\r\n      );\r\n    }\r\n\r\n    let draggable = <div>{name}</div>;\r\n    if (typeof browserProps.moveFile === \"function\") {\r\n      draggable = connectDragPreview(draggable);\r\n    }\r\n\r\n    const row = (\r\n      <tr\r\n        className={ClassNames(\"file\", {\r\n          pending: action,\r\n          dragging: isDragging,\r\n          dragover: isOver,\r\n          selected: isSelected,\r\n        })}\r\n        onClick={this.handleItemClick}\r\n        onDoubleClick={this.handleItemDoubleClick}\r\n      >\r\n        <td className=\"name\">\r\n          <span className=\"checkbox-icon\">\r\n            {isSelected\r\n              ? browserProps.icons.Checked\r\n              : browserProps.icons.Unchecked}\r\n          </span>\r\n          <div style={{ paddingLeft: depth * 16 + \"px\" }}>{draggable}</div>\r\n        </td>\r\n        {this.props.isShouldShowShared ? (\r\n          <td className=\"size\">{sharer}</td>\r\n        ) : null}\r\n        <td className=\"size\">{fileSize(size)}</td>\r\n        <td className=\"modified\">\r\n          <span className=\"encrypted-icon\">\r\n            {this.props.status === \"encrypted\" ? browserProps.icons.Lock : null}\r\n          </span>\r\n          {status}\r\n        </td>\r\n        <td className=\"modified\">\r\n          {typeof modified === \"undefined\"\r\n            ? \"-\"\r\n            : formatDistanceToNow(modified, { addSuffix: true })}\r\n        </td>\r\n      </tr>\r\n    );\r\n\r\n    return this.connectDND(row);\r\n  }\r\n}\r\n\r\n@DragSource(\r\n  \"file\",\r\n  BaseFileConnectors.dragSource,\r\n  BaseFileConnectors.dragCollect\r\n)\r\n@DropTarget(\r\n  [\"file\", \"folder\", NativeTypes.FILE],\r\n  BaseFileConnectors.targetSource,\r\n  BaseFileConnectors.targetCollect\r\n)\r\nclass TableFile extends RawTableFile {}\r\n\r\nexport default TableFile;\r\nexport { RawTableFile };\r\n","// @ts-nocheck\r\nimport PropTypes from 'prop-types'\r\nimport React from 'react'\r\nimport { moveFilesAndFolders } from './utils'\r\n\r\nclass BaseFolder extends React.Component {\r\n  static propTypes = {\r\n    name: PropTypes.string,\r\n    fileKey: PropTypes.string,\r\n\r\n    newName: PropTypes.string,\r\n    keyDerived: PropTypes.bool,\r\n    isDraft: PropTypes.bool,\r\n    isRenaming: PropTypes.bool,\r\n    isDeleting: PropTypes.bool,\r\n\r\n    connectDragSource: PropTypes.func,\r\n    connectDropTarget: PropTypes.func,\r\n    isDragging: PropTypes.bool,\r\n    action: PropTypes.string,\r\n\r\n    browserProps: PropTypes.shape({\r\n      select: PropTypes.func,\r\n      toggleFolder: PropTypes.func,\r\n      beginAction: PropTypes.func,\r\n      endAction: PropTypes.func,\r\n      preview: PropTypes.func,\r\n\r\n      createFiles: PropTypes.func,\r\n      createFolder: PropTypes.func,\r\n      moveFile: PropTypes.func,\r\n      moveFolder: PropTypes.func,\r\n      renameFolder: PropTypes.func,\r\n      deleteFolder: PropTypes.func,\r\n    }),\r\n  }\r\n\r\n  state = {\r\n    newName: this.props.isDraft ? 'New folder' : this.getName(),\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.isDraft) {\r\n      this.selectAllNewName()\r\n    }\r\n  }\r\n  componentDidUpdate(oldProps, oldState) {\r\n    if (!oldProps.isRenaming && this.props.isRenaming) {\r\n      this.selectAllNewName()\r\n    }\r\n  }\r\n  selectAllNewName = () => {\r\n    window.requestAnimationFrame(() => {\r\n      const currentName = this.newNameRef.value\r\n      this.newNameRef.setSelectionRange(0, currentName.length)\r\n      this.newNameRef.focus()\r\n    })\r\n  }\r\n\r\n  getName() {\r\n    if (this.props.name) {\r\n      return this.props.name\r\n    }\r\n    const folders = this.props.fileKey.split('/')\r\n    return this.props.newName || folders[folders.length - 2]\r\n  }\r\n\r\n  handleFolderClick = (event) => {\r\n    event.stopPropagation()\r\n    this.props.browserProps.select(this.props.fileKey, 'folder', event.ctrlKey || event.metaKey, event.shiftKey)\r\n  }\r\n  handleFolderDoubleClick = (event) => {\r\n    event.stopPropagation()\r\n    this.toggleFolder()\r\n  }\r\n\r\n  handleRenameClick = (event) => {\r\n    if (!this.props.browserProps.renameFolder) {\r\n      return\r\n    }\r\n    this.props.browserProps.beginAction('rename', this.props.fileKey)\r\n  }\r\n  handleNewNameChange = (event) => {\r\n    const newName = this.newNameRef.value\r\n    this.setState({ newName: newName })\r\n  }\r\n  handleRenameSubmit = (event) => {\r\n    event.preventDefault()\r\n    if (!this.props.browserProps.renameFolder && !this.props.isDraft) {\r\n      return\r\n    }\r\n    const newName = this.state.newName.trim()\r\n    if (newName.length === 0) {\r\n      // todo: move to props handler\r\n      // window.notify({\r\n      //   style: 'error',\r\n      //   title: 'Invalid new folder name',\r\n      //   body: 'Folder name cannot be blank',\r\n      // })\r\n      return\r\n    }\r\n    const invalidChar = ['/', '\\\\']\r\n    if (invalidChar.some(char => newName.indexOf(char) !== -1)) return\r\n    // todo: move to props handler\r\n    // window.notify({\r\n    //   style: 'error',\r\n    //   title: 'Invalid new folder name',\r\n    //   body: 'Folder names cannot contain forward slashes.',\r\n    // })\r\n\r\n    let newKey = this.props.fileKey.substr(0, this.props.fileKey.substr(0, this.props.fileKey.length - 1).lastIndexOf('/'))\r\n    if (newKey.length) {\r\n      newKey += '/'\r\n    }\r\n    newKey += newName\r\n    newKey += '/'\r\n    if (this.props.isDraft) {\r\n      this.props.browserProps.createFolder(newKey)\r\n    } else {\r\n      this.props.browserProps.renameFolder(this.props.fileKey, newKey)\r\n    }\r\n  }\r\n\r\n  handleDeleteClick = (event) => {\r\n    if (!this.props.browserProps.deleteFolder) {\r\n      return\r\n    }\r\n    this.props.browserProps.beginAction('delete', this.props.fileKey)\r\n  }\r\n  handleDeleteSubmit = (event) => {\r\n    event.preventDefault()\r\n    if (!this.props.browserProps.deleteFolder) {\r\n      return\r\n    }\r\n    this.props.browserProps.deleteFolder(this.props.browserProps.actionTargets)\r\n  }\r\n\r\n  handleCancelEdit = (event) => {\r\n    this.props.browserProps.endAction()\r\n  }\r\n\r\n  toggleFolder = () => {\r\n    this.props.browserProps.toggleFolder(this.props.fileKey)\r\n  }\r\n\r\n  connectDND(render) {\r\n    const inAction = (this.props.isDragging || this.props.action)\r\n    if (this.props.keyDerived) {\r\n      if (\r\n        typeof this.props.browserProps.moveFolder === 'function' &&\r\n        !inAction &&\r\n        !this.props.isRenaming &&\r\n        !this.props.isDeleting\r\n      ) {\r\n        render = this.props.connectDragSource(render)\r\n      }\r\n      if (\r\n        typeof this.props.browserProps.createFiles === 'function' ||\r\n        typeof this.props.browserProps.moveFolder === 'function' ||\r\n        typeof this.props.browserProps.moveFile === 'function'\r\n      ) {\r\n        render = this.props.connectDropTarget(render)\r\n      }\r\n    }\r\n    return render\r\n  }\r\n}\r\n\r\nconst dragSource = {\r\n  beginDrag(props) {\r\n    if (!props.browserProps.selection.length) {\r\n      props.browserProps.select(props.fileKey, 'folder')\r\n    }\r\n    return {\r\n      key: props.fileKey,\r\n    }\r\n  },\r\n\r\n  endDrag(props, monitor, component) {\r\n    moveFilesAndFolders(props, monitor, component)\r\n  },\r\n}\r\n\r\nfunction dragCollect(connect, monitor) {\r\n  return {\r\n    connectDragPreview: connect.dragPreview(),\r\n    connectDragSource: connect.dragSource(),\r\n    isDragging: monitor.isDragging(),\r\n  }\r\n}\r\n\r\nconst BaseFolderConnectors = {\r\n  dragSource,\r\n  dragCollect,\r\n}\r\n\r\nexport default BaseFolder\r\nexport {\r\n  BaseFolderConnectors,\r\n}\r\n","import React from \"react\";\r\nimport ClassNames from \"classnames\";\r\nimport { DragSource, DropTarget } from \"react-dnd\";\r\nimport { NativeTypes } from \"react-dnd-html5-backend\";\r\n\r\nimport BaseFolder, { BaseFolderConnectors } from \"./../base-folder.js\";\r\nimport { BaseFileConnectors } from \"./../base-file.js\";\r\n\r\nimport { isFolder } from \"../utils\";\r\n\r\nclass RawListThumbnailFolder extends BaseFolder {\r\n  render() {\r\n    const {\r\n      isOpen,\r\n      isDragging,\r\n      isDeleting,\r\n      isRenaming,\r\n      isDraft,\r\n      isOver,\r\n      isSelected,\r\n      url,\r\n      action,\r\n      browserProps,\r\n      depth,\r\n      keyDerived,\r\n      connectDragPreview,\r\n    } = this.props;\r\n\r\n    const icon = browserProps.icons[isOpen ? \"FolderOpen\" : \"Folder\"];\r\n\r\n    const inAction = isDragging || action;\r\n\r\n    const ConfirmDeletionRenderer = browserProps.confirmDeletionRenderer;\r\n\r\n    let name;\r\n    if (!inAction && isDeleting && browserProps.selection.length === 1) {\r\n      name = (\r\n        <ConfirmDeletionRenderer\r\n          handleDeleteSubmit={this.handleDeleteSubmit}\r\n          handleFileClick={this.handleFileClick}\r\n          url={url}\r\n        >\r\n          {this.getName()}\r\n        </ConfirmDeletionRenderer>\r\n      );\r\n    } else if ((!inAction && isRenaming) || isDraft) {\r\n      name = (\r\n        <div>\r\n          <form className=\"renaming\" onSubmit={this.handleRenameSubmit}>\r\n            <input\r\n              type=\"text\"\r\n              ref={(el) => {\r\n                this.newNameRef = el;\r\n              }}\r\n              value={this.state.newName}\r\n              onChange={this.handleNewNameChange}\r\n              onBlur={this.handleCancelEdit}\r\n              autoFocus\r\n            />\r\n          </form>\r\n        </div>\r\n      );\r\n    } else {\r\n      name = (\r\n        <div>\r\n          <a onClick={this.toggleFolder}>{this.getName()}</a>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let children;\r\n    if (isOpen && browserProps.nestChildren) {\r\n      children = [];\r\n      for (let childIndex = 0; childIndex < children.length; childIndex++) {\r\n        const file = children[childIndex];\r\n\r\n        const thisItemProps = {\r\n          ...browserProps.getItemProps(file, browserProps),\r\n          depth: depth + 1,\r\n        };\r\n\r\n        if (!isFolder(file)) {\r\n          children.push(\r\n            <browserProps.fileRenderer\r\n              {...file}\r\n              {...thisItemProps}\r\n              browserProps={browserProps}\r\n              {...browserProps.fileRendererProps}\r\n            />\r\n          );\r\n        } else {\r\n          children.push(\r\n            <browserProps.folderRenderer\r\n              {...file}\r\n              {...thisItemProps}\r\n              browserProps={browserProps}\r\n              {...browserProps.folderRendererProps}\r\n            />\r\n          );\r\n        }\r\n      }\r\n      if (children.length) {\r\n        children = (\r\n          <ul style={{ padding: \"0 8px\", paddingLeft: \"16px\" }}>{children}</ul>\r\n        );\r\n      } else {\r\n        children = <p>No items in this folder</p>;\r\n      }\r\n    }\r\n\r\n    let folder = (\r\n      <li\r\n        className={ClassNames(\"folder\", {\r\n          expanded: isOpen && browserProps.nestChildren,\r\n          pending: action,\r\n          dragging: isDragging,\r\n          dragover: isOver,\r\n          selected: isSelected,\r\n        })}\r\n        onClick={this.handleFolderClick}\r\n        onDoubleClick={this.handleFolderDoubleClick}\r\n      >\r\n        <div className=\"item\">\r\n          <span className=\"thumb\">{icon}</span>\r\n          <span className=\"name\">{name}</span>\r\n        </div>\r\n        {children}\r\n      </li>\r\n    );\r\n    if (typeof browserProps.moveFolder === \"function\" && keyDerived) {\r\n      folder = connectDragPreview(folder);\r\n    }\r\n\r\n    return this.connectDND(folder);\r\n  }\r\n}\r\n\r\n@DragSource(\r\n  \"folder\",\r\n  BaseFolderConnectors.dragSource,\r\n  BaseFolderConnectors.dragCollect\r\n)\r\n@DropTarget(\r\n  [\"file\", \"folder\", NativeTypes.FILE],\r\n  BaseFileConnectors.targetSource,\r\n  BaseFileConnectors.targetCollect\r\n)\r\nclass ListThumbnailFolder extends RawListThumbnailFolder {}\r\n\r\nexport default ListThumbnailFolder;\r\nexport { RawListThumbnailFolder };\r\n","import React from \"react\";\r\nimport ClassNames from \"classnames\";\r\nimport { DragSource, DropTarget } from \"react-dnd\";\r\nimport { NativeTypes } from \"react-dnd-html5-backend\";\r\n\r\nimport BaseFolder, { BaseFolderConnectors } from \"./../base-folder.js\";\r\nimport { BaseFileConnectors } from \"./../base-file.js\";\r\n\r\nclass RawTableFolder extends BaseFolder {\r\n  render() {\r\n    const {\r\n      isOpen,\r\n      isDragging,\r\n      isDeleting,\r\n      isRenaming,\r\n      isDraft,\r\n      isOver,\r\n      isSelected,\r\n      action,\r\n      url,\r\n      isShouldShowShared,\r\n      browserProps,\r\n      connectDragPreview,\r\n      depth,\r\n    } = this.props;\r\n\r\n    const icon = browserProps.icons[isOpen ? \"FolderOpen\" : \"Folder\"];\r\n    const inAction = isDragging || action;\r\n\r\n    const ConfirmDeletionRenderer = browserProps.confirmDeletionRenderer;\r\n\r\n    let name;\r\n    if (!inAction && isDeleting && browserProps.selection.length === 1) {\r\n      name = (\r\n        <ConfirmDeletionRenderer\r\n          handleDeleteSubmit={this.handleDeleteSubmit}\r\n          handleFileClick={this.handleFileClick}\r\n          url={url}\r\n        >\r\n          {icon}\r\n          {this.getName()}\r\n        </ConfirmDeletionRenderer>\r\n      );\r\n    } else if ((!inAction && isRenaming) || isDraft) {\r\n      name = (\r\n        <div>\r\n          <form className=\"renaming\" onSubmit={this.handleRenameSubmit}>\r\n            {icon}\r\n            <input\r\n              type=\"text\"\r\n              ref={(el) => {\r\n                this.newNameRef = el;\r\n              }}\r\n              value={this.state.newName}\r\n              onChange={this.handleNewNameChange}\r\n              onBlur={this.handleCancelEdit}\r\n              autoFocus\r\n            />\r\n          </form>\r\n        </div>\r\n      );\r\n    } else {\r\n      name = (\r\n        <div>\r\n          <a onClick={this.toggleFolder}>\r\n            {icon}\r\n            {this.getName()}\r\n          </a>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let draggable = <div>{name}</div>;\r\n    if (typeof browserProps.moveFile === \"function\") {\r\n      draggable = connectDragPreview(draggable);\r\n    }\r\n\r\n    const folder = (\r\n      <tr\r\n        className={ClassNames(\"folder\", {\r\n          pending: action,\r\n          dragging: isDragging,\r\n          dragover: isOver,\r\n          selected: isSelected,\r\n        })}\r\n        onClick={this.handleFolderClick}\r\n        onDoubleClick={this.handleFolderDoubleClick}\r\n      >\r\n        <td className=\"name\">\r\n          <span className=\"checkbox-icon\">\r\n            {isSelected\r\n              ? browserProps.icons.Checked\r\n              : browserProps.icons.Unchecked}\r\n          </span>\r\n          <div style={{ paddingLeft: depth * 16 + \"px\" }}>{draggable}</div>\r\n        </td>\r\n        {this.props.isShouldShowShared ? <td /> : null}\r\n        <td />\r\n        <td />\r\n        <td />\r\n      </tr>\r\n    );\r\n\r\n    return this.connectDND(folder);\r\n  }\r\n}\r\n\r\n@DragSource(\r\n  \"folder\",\r\n  BaseFolderConnectors.dragSource,\r\n  BaseFolderConnectors.dragCollect\r\n)\r\n@DropTarget(\r\n  [\"file\", \"folder\", NativeTypes.FILE],\r\n  BaseFileConnectors.targetSource,\r\n  BaseFileConnectors.targetCollect\r\n)\r\nclass TableFolder extends RawTableFolder {}\r\n\r\nexport default TableFolder;\r\nexport { RawTableFolder };\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst ConfirmDeletion = (props) => {\r\n  const {\r\n    children,\r\n    handleDeleteSubmit,\r\n    handleFileClick,\r\n    url,\r\n  } = props\r\n\r\n  return (\r\n    <form className=\"deleting\" onSubmit={handleDeleteSubmit}>\r\n      <a\r\n        href={url}\r\n        download=\"download\"\r\n        onClick={handleFileClick}\r\n      >\r\n        {children}\r\n      </a>\r\n      <div>\r\n        <button type=\"submit\">\r\n          Confirm Deletion\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nConfirmDeletion.propTypes = {\r\n  children: PropTypes.node,\r\n  handleDeleteSubmit: PropTypes.func,\r\n  handleFileClick: PropTypes.func,\r\n  url: PropTypes.string,\r\n}\r\n\r\nConfirmDeletion.defaultProps = {\r\n  url: '#',\r\n}\r\n\r\nexport default ConfirmDeletion\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst MultipleConfirmDeletion = (props) => {\r\n  const {\r\n    handleDeleteSubmit,\r\n  } = props\r\n\r\n  return (\r\n    <button className=\"deleting\" onClick={handleDeleteSubmit}>\r\n      Confirm Deletion\r\n    </button>\r\n  )\r\n}\r\n\r\nMultipleConfirmDeletion.propTypes = {\r\n  handleDeleteSubmit: PropTypes.func,\r\n}\r\n\r\nexport default MultipleConfirmDeletion\r\n","import { isFolder } from '../utils'\r\n\r\nexport default function(files, root) {\r\n  const fileTree = {\r\n    contents: [],\r\n    children: {},\r\n  }\r\n\r\n  files.map((file) => {\r\n    file.relativeKey = (file.newKey || file.key).substr(root.length)\r\n    let currentFolder = fileTree\r\n    const folders = file.relativeKey.split('/')\r\n    folders.map((folder, folderIndex) => {\r\n      if (folderIndex === folders.length - 1 && isFolder(file)) {\r\n        for (const key in file) {\r\n          currentFolder[key] = file[key]\r\n        }\r\n      }\r\n      if (folder === '') {\r\n        return\r\n      }\r\n      const isAFile = (!isFolder(file) && (folderIndex === folders.length - 1))\r\n      if (isAFile) {\r\n        currentFolder.contents.push({\r\n          ...file,\r\n          keyDerived: true,\r\n        })\r\n      } else {\r\n        if (folder in currentFolder.children === false) {\r\n          currentFolder.children[folder] = {\r\n            contents: [],\r\n            children: {},\r\n          }\r\n        }\r\n        currentFolder = currentFolder.children[folder]\r\n      }\r\n    })\r\n  })\r\n\r\n  function addAllChildren(level, prefix) {\r\n    if (prefix !== '') {\r\n      prefix += '/'\r\n    }\r\n    let files = []\r\n    for (const folder in level.children) {\r\n      files.push({\r\n        ...level.children[folder],\r\n        contents: undefined,\r\n        keyDerived: true,\r\n        key: root + prefix + folder + '/',\r\n        relativeKey: prefix + folder + '/',\r\n        children: addAllChildren(level.children[folder], prefix + folder),\r\n        size: 0,\r\n      })\r\n    }\r\n    files = files.concat(level.contents)\r\n    return files\r\n  }\r\n\r\n  files = addAllChildren(fileTree, '')\r\n  return files\r\n}\r\n","import { format, startOfMonth, endOfMonth } from 'date-fns'\r\nimport { relativeTimeWindows } from './utils'\r\nimport { isFolder } from '../utils'\r\n\r\nexport default function(files, root) {\r\n  const timeWindows = relativeTimeWindows()\r\n\r\n  for (let fileIndex = 0; fileIndex < files.length; fileIndex++) {\r\n    const file = files[fileIndex]\r\n    if (isFolder(file)) { continue }\r\n    const newFile = {\r\n      ...file,\r\n      keyDerived: true,\r\n    }\r\n\r\n    let allocated = false\r\n    const fileModified = +newFile.modified\r\n    for (let windex = 0; windex < timeWindows.length; windex++) {\r\n      const timeWindow = timeWindows[windex]\r\n      if (fileModified > +timeWindow.begins && fileModified <= +timeWindow.ends) {\r\n        timeWindow.items.push(newFile)\r\n        allocated = true\r\n        break\r\n      }\r\n    }\r\n    if (!allocated) {\r\n      const newWindow = {\r\n        name: format(newFile.modified, 'MMMM yyyy'),\r\n        begins: startOfMonth(newFile.modified),\r\n        ends: endOfMonth(newFile.modified),\r\n        items: [],\r\n      }\r\n      newWindow.items.push(newFile)\r\n      timeWindows.push(newWindow)\r\n    }\r\n  }\r\n\r\n  const grouped = []\r\n  for (let windex = 0; windex < timeWindows.length; windex++) {\r\n    const timeWindow = timeWindows[windex]\r\n    if (!timeWindow.items.length) { continue }\r\n    grouped.push({\r\n      key: `${timeWindow.name.toLowerCase().replace(' ', '_')}/`,\r\n      name: timeWindow.name,\r\n      children: timeWindow.items,\r\n      size: 0,\r\n    })\r\n  }\r\n\r\n  return grouped\r\n}\r\n","// @ts-nocheck\r\nimport {\r\n  startOfToday,\r\n  endOfToday,\r\n  startOfYesterday,\r\n  endOfYesterday,\r\n  startOfWeek,\r\n  endOfWeek,\r\n  addWeeks,\r\n  startOfMonth,\r\n  endOfMonth,\r\n  getMonth,\r\n} from 'date-fns'\r\n\r\nfunction relativeTimeWindows() {\r\n  const windows = []\r\n  const now = new Date()\r\n  windows.push({\r\n    name: 'Today',\r\n    begins: startOfToday(),\r\n    ends: endOfToday(),\r\n    items: [],\r\n  })\r\n  windows.push({\r\n    name: 'Yesterday',\r\n    begins: startOfYesterday(),\r\n    ends: endOfYesterday(),\r\n    items: [],\r\n  })\r\n  windows.push({\r\n    name: 'Earlier this Week',\r\n    begins: startOfWeek(now),\r\n    ends: endOfWeek(now),\r\n    items: [],\r\n  })\r\n  windows.push({\r\n    name: 'Last Week',\r\n    begins: startOfWeek(addWeeks(now, -1)),\r\n    ends: endOfWeek(addWeeks(now, -1)),\r\n    items: [],\r\n  })\r\n  if (getMonth(windows[windows.length - 1].begins) === getMonth(now)) {\r\n    windows.push({\r\n      name: 'Earlier this Month',\r\n      begins: startOfMonth(now),\r\n      ends: endOfMonth(now),\r\n      items: [],\r\n    })\r\n  }\r\n  return windows\r\n}\r\n\r\nexport { relativeTimeWindows }\r\n","const NUMBER_GROUPS = /(-?\\d*\\.?\\d+)/g\r\n\r\nfunction naturalSortComparer(a, b) {\r\n  const aa = String(a.name).split(NUMBER_GROUPS)\r\n  const bb = String(b.name).split(NUMBER_GROUPS)\r\n  const min = Math.min(aa.length, bb.length)\r\n\r\n  for (let i = 0; i < min; i++) {\r\n    const x = parseFloat(aa[i]) || aa[i].toLowerCase()\r\n    const y = parseFloat(bb[i]) || bb[i].toLowerCase()\r\n    if (x < y) return -1\r\n    else if (x > y) return 1\r\n  }\r\n\r\n  return 0\r\n}\r\n\r\nexport { naturalSortComparer }\r\n","import { naturalSortComparer } from './utils.js'\r\n\r\nfunction naturalDraftComparer(a, b) {\r\n  if (a.draft && !b.draft) {\r\n    return 1\r\n  } else if (b.draft && !a.draft) {\r\n    return -1\r\n  }\r\n  return naturalSortComparer(a, b)\r\n}\r\n\r\nfunction naturalSort(allFiles) {\r\n  let folders = []\r\n  let files = []\r\n\r\n  for (let fileIndex = 0; fileIndex < allFiles.length; fileIndex++) {\r\n    const file = allFiles[fileIndex]\r\n    const keyFolders = (file.newKey || file.key).split('/')\r\n    if (file.children) {\r\n      if (!file.name) {\r\n        file.name = keyFolders[keyFolders.length - 2]\r\n      }\r\n      folders.push(file)\r\n    } else {\r\n      if (!file.name) {\r\n        file.name = keyFolders[keyFolders.length - 1]\r\n      }\r\n      files.push(file)\r\n    }\r\n  }\r\n\r\n  files = files.sort(naturalSortComparer)\r\n  folders = folders.sort(naturalDraftComparer)\r\n\r\n  for (let folderIndex = 0; folderIndex < folders.length; folderIndex++) {\r\n    const folder = folders[folderIndex]\r\n    folder.children = naturalSort(folder.children)\r\n  }\r\n\r\n  let sortedFiles = []\r\n  sortedFiles = sortedFiles.concat(folders)\r\n  sortedFiles = sortedFiles.concat(files)\r\n  return sortedFiles\r\n}\r\n\r\nexport default function(files) {\r\n  return naturalSort(files)\r\n}\r\n","import { compareAsc } from 'date-fns'\r\n\r\nfunction lastModifiedSort(allFiles) {\r\n  const folders = []\r\n  let files = []\r\n  for (let fileIndex = 0; fileIndex < allFiles.length; fileIndex++) {\r\n    const file = allFiles[fileIndex]\r\n    const keyFolders = (file.newKey || file.key).split('/')\r\n    if (file.children) {\r\n      // file.name = keyFolders[keyFolders.length - 2]\r\n      folders.push(file)\r\n    } else {\r\n      file.name = keyFolders[keyFolders.length - 1]\r\n      files.push(file)\r\n    }\r\n  }\r\n\r\n  files = files.sort(compareAsc)\r\n\r\n  for (let folderIndex = 0; folderIndex < folders.length; folderIndex++) {\r\n    const folder = folders[folderIndex]\r\n    folder.children = lastModifiedSort(folder.children)\r\n  }\r\n\r\n  let sortedFiles = []\r\n  sortedFiles = sortedFiles.concat(folders)\r\n  sortedFiles = sortedFiles.concat(files)\r\n  return sortedFiles\r\n}\r\n\r\nexport default function(files) {\r\n  return lastModifiedSort(files)\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Actions = (props) => {\r\n  const {\r\n    selectedItems,\r\n    isFolder,\r\n    icons,\r\n    nameFilter,\r\n\r\n    canCreateFolder,\r\n    onCreateFolder,\r\n\r\n    canRenameFile,\r\n    onRenameFile,\r\n\r\n    canRenameFolder,\r\n    onRenameFolder,\r\n\r\n    canDeleteFile,\r\n    onDeleteFile,\r\n\r\n    canDeleteFolder,\r\n    onDeleteFolder,\r\n\r\n    canDownloadFile,\r\n    onDownloadFile,\r\n  } = props;\r\n\r\n  /** @type any */\r\n  let actions = [];\r\n\r\n  if (selectedItems.length) {\r\n    // Something is selected. Build custom actions depending on what it is.\r\n    const selectedItemsAction = selectedItems.filter((item) => item.action);\r\n    if (\r\n      selectedItemsAction.length === selectedItems.length &&\r\n      [...new Set(selectedItemsAction)].length === 1\r\n    ) {\r\n      // Selected item has an active action against it. Disable all other actions.\r\n      let actionText;\r\n      switch (selectedItemsAction[0].action) {\r\n        case \"delete\":\r\n          actionText = \"Deleting ...\";\r\n          break;\r\n\r\n        case \"rename\":\r\n          actionText = \"Renaming ...\";\r\n          break;\r\n\r\n        default:\r\n          actionText = \"Moving ...\";\r\n          break;\r\n      }\r\n\r\n      actions = (\r\n        // TODO: Enable plugging in custom spinner.\r\n        <div className=\"item-actions\">\r\n          {icons.Loading} {actionText}\r\n        </div>\r\n      );\r\n    } else {\r\n      if (isFolder && canCreateFolder && !nameFilter) {\r\n        actions.push(\r\n          <li onClick={onCreateFolder} key=\"action-add-folder\">\r\n            <span className=\"icon-cont\">{icons.FolderPlus}</span>\r\n            <a href=\"#\" role=\"button\">\r\n              &nbsp;Add Subfolder\r\n            </a>\r\n          </li>\r\n        );\r\n      }\r\n\r\n      const itemsWithoutKeyDerived = selectedItems.find(\r\n        (item) => !item.keyDerived\r\n      );\r\n      if (\r\n        !itemsWithoutKeyDerived &&\r\n        !isFolder &&\r\n        canRenameFile &&\r\n        selectedItems.length === 1\r\n      ) {\r\n        actions.push(\r\n          <li onClick={onRenameFile} key=\"action-rename\">\r\n            <span className=\"icon-cont\">{icons.Rename}</span>\r\n            <a href=\"#\" role=\"button\">\r\n              &nbsp;Rename\r\n            </a>\r\n          </li>\r\n        );\r\n      } else if (!itemsWithoutKeyDerived && isFolder && canRenameFolder) {\r\n        actions.push(\r\n          <li onClick={onRenameFolder} key=\"action-rename\">\r\n            <span className=\"icon-cont\">{icons.Rename}</span>\r\n            <a href=\"#\" role=\"button\">\r\n              &nbsp;Rename\r\n            </a>\r\n          </li>\r\n        );\r\n      }\r\n\r\n      if (!itemsWithoutKeyDerived && !isFolder && canDeleteFile) {\r\n        actions.push(\r\n          <li onClick={onDeleteFile} key=\"action-delete\">\r\n            <a href=\"#\" role=\"button\">\r\n              {icons.Delete}\r\n              &nbsp;Delete\r\n            </a>\r\n          </li>\r\n        );\r\n      } else if (!itemsWithoutKeyDerived && isFolder && canDeleteFolder) {\r\n        actions.push(\r\n          <li onClick={onDeleteFolder} key=\"action-delete\">\r\n            <a href=\"#\" role=\"button\">\r\n              {icons.Delete}\r\n              &nbsp;Delete\r\n            </a>\r\n          </li>\r\n        );\r\n      }\r\n\r\n      if (!isFolder && canDownloadFile) {\r\n        actions.push(\r\n          <li onClick={onDownloadFile} key=\"action-download\">\r\n            <a href=\"#\" role=\"button\">\r\n              {icons.Download}\r\n              &nbsp;Download\r\n            </a>\r\n          </li>\r\n        );\r\n      }\r\n\r\n      if (actions.length) {\r\n        actions = <ul className=\"item-actions\">{actions}</ul>;\r\n      } else {\r\n        actions = <div className=\"item-actions\">&nbsp;</div>;\r\n      }\r\n    }\r\n  } else {\r\n    // Nothing selected: We're in the 'root' folder. Only allowed action is adding a folder.\r\n    if (canCreateFolder && !nameFilter) {\r\n      actions.push(\r\n        <li onClick={onCreateFolder} key=\"action-add-folder\">\r\n          <span className=\"icon-cont\">{icons.FolderPlus}</span>\r\n          <a href=\"#\" role=\"button\">\r\n            &nbsp;Add Folder\r\n          </a>\r\n        </li>\r\n      );\r\n    }\r\n\r\n    if (actions.length) {\r\n      actions = <ul className=\"item-actions\">{actions}</ul>;\r\n    } else {\r\n      actions = <div className=\"item-actions\">&nbsp;</div>;\r\n    }\r\n  }\r\n\r\n  return actions;\r\n};\r\n\r\nActions.propTypes = {\r\n  selectedItems: PropTypes.arrayOf(PropTypes.object),\r\n  isFolder: PropTypes.bool,\r\n  icons: PropTypes.object,\r\n  nameFilter: PropTypes.string,\r\n\r\n  canCreateFolder: PropTypes.bool,\r\n  onCreateFolder: PropTypes.func,\r\n\r\n  canRenameFile: PropTypes.bool,\r\n  onRenameFile: PropTypes.func,\r\n\r\n  canRenameFolder: PropTypes.bool,\r\n  onRenameFolder: PropTypes.func,\r\n\r\n  canDeleteFile: PropTypes.bool,\r\n  onDeleteFile: PropTypes.func,\r\n\r\n  canDeleteFolder: PropTypes.bool,\r\n  onDeleteFolder: PropTypes.func,\r\n\r\n  canDownloadFile: PropTypes.bool,\r\n  onDownloadFile: PropTypes.func,\r\n};\r\n\r\nActions.defaultProps = {\r\n  selectedItems: [],\r\n  isFolder: false,\r\n  icons: {},\r\n  nameFilter: \"\",\r\n\r\n  canCreateFolder: false,\r\n  onCreateFolder: null,\r\n\r\n  canRenameFile: false,\r\n  onRenameFile: null,\r\n\r\n  canRenameFolder: false,\r\n  onRenameFolder: null,\r\n\r\n  canDeleteFile: false,\r\n  onDeleteFile: null,\r\n\r\n  canDeleteFolder: false,\r\n  onDeleteFolder: null,\r\n\r\n  canDownloadFile: false,\r\n  onDownloadFile: null,\r\n};\r\n\r\nexport default Actions;\r\n","import PropTypes from \"prop-types\";\r\nimport React, { Component, PureComponent } from \"react\";\r\n// drag and drop\r\nimport HTML5Backend from \"react-dnd-html5-backend\";\r\nimport { DragDropContext } from \"react-dnd\";\r\n\r\n// default components (most overridable)\r\nimport { DefaultDetail } from \"./details\";\r\nimport { DefaultFilter } from \"./filters\";\r\n\r\n// default renderers\r\nimport { TableHeader } from \"./headers\";\r\nimport { TableFile } from \"./files\";\r\nimport { TableFolder } from \"./folders\";\r\nimport {\r\n  DefaultConfirmDeletion,\r\n  MultipleConfirmDeletion,\r\n} from \"./confirmations\";\r\n\r\n// default processors\r\nimport { GroupByFolder } from \"./groupers\";\r\nimport { SortByName } from \"./sorters\";\r\n\r\nimport { isFolder } from \"./utils\";\r\nimport { DefaultAction } from \"./actions\";\r\nimport { includes } from \"lodash\";\r\n\r\nconst SEARCH_RESULTS_PER_PAGE = 20;\r\nconst regexForNewFolderOrFileSelection = /.*\\/__new__[/]?$/gm;\r\n\r\nfunction getItemProps(file, browserProps) {\r\n  return {\r\n    key: `file-${file.key}`,\r\n    fileKey: file.key,\r\n    isSelected: browserProps.selection.includes(file.key),\r\n    isOpen: file.key in browserProps.openFolders || browserProps.nameFilter,\r\n    isRenaming:\r\n      browserProps.activeAction === \"rename\" &&\r\n      browserProps.actionTargets.includes(file.key),\r\n    isDeleting:\r\n      browserProps.activeAction === \"delete\" &&\r\n      browserProps.actionTargets.includes(file.key),\r\n    isDraft: !!file.draft,\r\n  };\r\n}\r\n\r\nclass RawFileBrowser extends Component {\r\n  static propTypes = {\r\n    files: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        file_id: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n          .isRequired,\r\n        key: PropTypes.string.isRequired,\r\n        status: PropTypes.oneOf([\"encrypted\", \"unencrypted\"]),\r\n        sharer: PropTypes.string,\r\n        modified: PropTypes.number,\r\n        created: PropTypes.number,\r\n        size: PropTypes.number,\r\n      })\r\n    ).isRequired,\r\n    actions: PropTypes.node,\r\n    showActionBar: PropTypes.bool.isRequired,\r\n    canFilter: PropTypes.bool.isRequired,\r\n    showFoldersOnFilter: PropTypes.bool,\r\n    noFilesMessage: PropTypes.string,\r\n\r\n    group: PropTypes.func.isRequired,\r\n    sort: PropTypes.func.isRequired,\r\n\r\n    icons: PropTypes.shape({\r\n      Folder: PropTypes.element,\r\n      FolderOpen: PropTypes.element,\r\n      File: PropTypes.element,\r\n      FolderPlus: PropTypes.element,\r\n      Image: PropTypes.element,\r\n      Video: PropTypes.element,\r\n      Audio: PropTypes.element,\r\n      Word: PropTypes.element,\r\n      Excel: PropTypes.element,\r\n      Archive: PropTypes.element,\r\n      Text: PropTypes.element,\r\n      PDF: PropTypes.element,\r\n      Delete: PropTypes.element,\r\n      Rename: PropTypes.element,\r\n      Loading: PropTypes.element,\r\n      Download: PropTypes.element,\r\n      Search: PropTypes.element,\r\n      Lock: PropTypes.element,\r\n    }),\r\n\r\n    nestChildren: PropTypes.bool.isRequired,\r\n    renderStyle: PropTypes.oneOf([\"list\", \"table\"]).isRequired,\r\n\r\n    startOpen: PropTypes.bool.isRequired, // TODO: remove?\r\n\r\n    headerRenderer: PropTypes.func,\r\n    headerRendererProps: PropTypes.object,\r\n    filterRenderer: PropTypes.func,\r\n    filterRendererProps: PropTypes.object,\r\n    fileRenderer: PropTypes.func,\r\n    fileRendererProps: PropTypes.object,\r\n    folderRenderer: PropTypes.func,\r\n    folderRendererProps: PropTypes.object,\r\n    detailRenderer: PropTypes.func,\r\n    detailRendererProps: PropTypes.object,\r\n    actionRenderer: PropTypes.func,\r\n    confirmDeletionRenderer: PropTypes.func,\r\n    confirmMultipleDeletionRenderer: PropTypes.func,\r\n\r\n    onSelectionChange: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n    onCreateFiles: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n    onCreateFolder: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n    onMoveFile: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n    onMoveFolder: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n    onRenameFile: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n    onRenameFolder: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n    onDeleteFile: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n    onDeleteFolder: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n    onDownloadFile: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n\r\n    onSelect: PropTypes.func,\r\n    onSelectFile: PropTypes.func,\r\n    onSelectFolder: PropTypes.func,\r\n\r\n    onPreviewOpen: PropTypes.func,\r\n    onPreviewClose: PropTypes.func,\r\n\r\n    onFolderOpen: PropTypes.func,\r\n    onFolderClose: PropTypes.func,\r\n  };\r\n\r\n  static defaultProps = {\r\n    showActionBar: true,\r\n    canFilter: true,\r\n    showFoldersOnFilter: false,\r\n    noFilesMessage: \"No files.\",\r\n\r\n    group: GroupByFolder,\r\n    sort: SortByName,\r\n\r\n    nestChildren: false,\r\n    renderStyle: \"table\",\r\n\r\n    startOpen: false,\r\n\r\n    headerRenderer: TableHeader,\r\n    headerRendererProps: {},\r\n    filterRenderer: DefaultFilter,\r\n    filterRendererProps: {},\r\n    fileRenderer: TableFile,\r\n    fileRendererProps: {},\r\n    folderRenderer: TableFolder,\r\n    folderRendererProps: {},\r\n    detailRenderer: DefaultDetail,\r\n    detailRendererProps: {},\r\n    actionRenderer: DefaultAction,\r\n\r\n    icons: {},\r\n\r\n    onSelect: (fileOrFolder) => {}, // Always called when a file or folder is selected\r\n    onSelectFile: (file) => {}, //    Called after onSelect, only on file selection\r\n    onSelectFolder: (folder) => {}, //    Called after onSelect, only on folder selection\r\n    onSelectionChange: (selection) => {}, // Pass selection state up\r\n    onPreviewOpen: (file) => {}, // File opened\r\n    onPreviewClose: (file) => {}, // File closed\r\n\r\n    onFolderOpen: (folder) => {}, // Folder opened\r\n    onFolderClose: (folder) => {}, // Folder closed\r\n\r\n    isShouldInvokeCreateFolder: false,\r\n    isShouldFireRename: false,\r\n  };\r\n\r\n  state = {\r\n    openFolders: {},\r\n    selection: [], // should be the file ids, not keys. If folder => then all children files\r\n    activeAction: null,\r\n    actionTargets: [],\r\n\r\n    nameFilter: \"\",\r\n    searchResultsShown: SEARCH_RESULTS_PER_PAGE,\r\n\r\n    previewFile: null,\r\n\r\n    addFolder: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.renderStyle === \"table\" && this.props.nestChildren) {\r\n      console.warn(\r\n        \"Invalid settings: Cannot nest table children in file browser\"\r\n      );\r\n    }\r\n\r\n    window.addEventListener(\"click\", this.handleGlobalClick);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    // console.log(\"RKFB CDU\");\r\n    this.onSelectionChange();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // console.log(\"RKFB CWU\");\r\n    window.removeEventListener(\"click\", this.handleGlobalClick);\r\n  }\r\n\r\n  getFile = (key) => this.props.files.find((f) => f.key === key);\r\n\r\n  // Define if we should show shared column in Folder, File renderers\r\n  isShouldShowShared = () => {\r\n    // console.log(\"Input files\", this.props.files);\r\n    const filesWithSharedPresent = this.props.files.filter((fileObj) =>\r\n      includes(Object.keys(fileObj), \"sharer\")\r\n    );\r\n    const isShould = filesWithSharedPresent.length > 0;\r\n    // console.log(\r\n    //   isShould ? \"We should see shared\" : \"We should NOT see shared\",\r\n    //   filesWithSharedPresent\r\n    // );\r\n    return isShould;\r\n  };\r\n\r\n  // item manipulation\r\n  createFiles = (files, prefix) => {\r\n    this.setState(\r\n      (prevState) => {\r\n        const stateChanges = { selection: [] };\r\n        if (prefix) {\r\n          stateChanges.openFolders = {\r\n            ...prevState.openFolders,\r\n            [prefix]: true,\r\n          };\r\n        }\r\n        return stateChanges;\r\n      },\r\n      () => {\r\n        this.props.onCreateFiles(files, prefix);\r\n      }\r\n    );\r\n  };\r\n\r\n  // Disabled for Amera at the moment\r\n  createFolder = (key) => {\r\n    this.setState(\r\n      {\r\n        activeAction: null,\r\n        actionTargets: [],\r\n        selection: [key],\r\n      },\r\n      () => {\r\n        this.props.onCreateFolder(key);\r\n      }\r\n    );\r\n  };\r\n\r\n  // Should work\r\n  moveFile = (oldKey, newKey) => {\r\n    this.setState(\r\n      {\r\n        activeAction: null,\r\n        actionTargets: [],\r\n        selection: [newKey],\r\n      },\r\n      () => {\r\n        this.props.onMoveFile(oldKey, newKey);\r\n      }\r\n    );\r\n  };\r\n\r\n  // Should work\r\n  moveFolder = (oldKey, newKey) => {\r\n    this.setState(\r\n      (prevState) => {\r\n        const stateChanges = {\r\n          activeAction: null,\r\n          actionTargets: [],\r\n          selection: [newKey],\r\n        };\r\n        if (oldKey in prevState.openFolders) {\r\n          stateChanges.openFolders = {\r\n            ...prevState.openFolders,\r\n            [newKey]: true,\r\n          };\r\n        }\r\n        return stateChanges;\r\n      },\r\n      () => {\r\n        this.props.onMoveFolder(oldKey, newKey);\r\n      }\r\n    );\r\n  };\r\n\r\n  // Should work\r\n  renameFile = (oldKey, newKey) => {\r\n    this.setState(\r\n      {\r\n        activeAction: null,\r\n        actionTargets: [],\r\n        selection: [newKey],\r\n      },\r\n      () => {\r\n        this.props.onRenameFile(oldKey, newKey);\r\n      }\r\n    );\r\n  };\r\n\r\n  // Should work\r\n  renameFolder = (oldKey, newKey) => {\r\n    this.setState(\r\n      (prevState) => {\r\n        const stateChanges = {\r\n          activeAction: null,\r\n          actionTargets: [],\r\n        };\r\n        if (prevState.selection[0].substr(0, oldKey.length) === oldKey) {\r\n          stateChanges.selection = [\r\n            prevState.selection[0].replace(oldKey, newKey),\r\n          ];\r\n        }\r\n        if (oldKey in prevState.openFolders) {\r\n          stateChanges.openFolders = {\r\n            ...prevState.openFolders,\r\n            [newKey]: true,\r\n          };\r\n        }\r\n        return stateChanges;\r\n      },\r\n      () => {\r\n        this.props.onRenameFolder(oldKey, newKey);\r\n      }\r\n    );\r\n  };\r\n\r\n  // Should work\r\n  deleteFile = (keys) => {\r\n    this.setState(\r\n      {\r\n        activeAction: null,\r\n        actionTargets: [],\r\n        selection: [],\r\n      },\r\n      () => {\r\n        this.props.onDeleteFile(keys);\r\n      }\r\n    );\r\n  };\r\n\r\n  // Not using now\r\n  deleteFolder = (key) => {\r\n    this.setState(\r\n      (prevState) => {\r\n        const stateChanges = {\r\n          activeAction: null,\r\n          actionTargets: [],\r\n          selection: [],\r\n        };\r\n        if (key in prevState.openFolders) {\r\n          stateChanges.openFolders = { ...prevState.openFolders };\r\n          delete stateChanges.openFolders[key];\r\n        }\r\n        return stateChanges;\r\n      },\r\n      () => {\r\n        this.props.onDeleteFolder(key);\r\n      }\r\n    );\r\n  };\r\n\r\n  // Not using now\r\n  downloadFile = (keys) => {\r\n    this.setState(\r\n      {\r\n        activeAction: null,\r\n        actionTargets: [],\r\n      },\r\n      () => {\r\n        this.props.onDownloadFile(keys);\r\n      }\r\n    );\r\n  };\r\n\r\n  // browser manipulation\r\n  beginAction = (action, ids) => {\r\n    this.setState({\r\n      activeAction: action,\r\n      actionTargets: ids || [],\r\n    });\r\n  };\r\n\r\n  endAction = () => {\r\n    if (\r\n      this.state.selection &&\r\n      this.state.selection.length > 0 &&\r\n      this.state.selection.filter((selection) =>\r\n        selection.match(regexForNewFolderOrFileSelection)\r\n      ).length > 0\r\n    ) {\r\n      this.setState({ selection: [] });\r\n    }\r\n    this.beginAction(null, null);\r\n  };\r\n\r\n  onSelectionChange = () => {\r\n    this.props.onSelectionChange(this.state.selection);\r\n  };\r\n\r\n  select = (key, selectedType, ctrlKey, shiftKey) => {\r\n    const { actionTargets } = this.state;\r\n    const shouldClearState =\r\n      actionTargets.length && !actionTargets.includes(key);\r\n    const selected = this.getFile(key);\r\n\r\n    let newSelection = [key];\r\n    if (ctrlKey || shiftKey) {\r\n      const indexOfKey = this.state.selection.indexOf(key);\r\n      if (indexOfKey !== -1) {\r\n        newSelection = [\r\n          ...this.state.selection.slice(0, indexOfKey),\r\n          ...this.state.selection.slice(indexOfKey + 1),\r\n        ];\r\n      } else {\r\n        newSelection = [...this.state.selection, key];\r\n      }\r\n    }\r\n\r\n    this.setState(\r\n      (prevState) => ({\r\n        selection: newSelection,\r\n        actionTargets: shouldClearState ? [] : actionTargets,\r\n        activeAction: shouldClearState ? null : prevState.activeAction,\r\n      }),\r\n      () => {\r\n        this.props.onSelect(newSelection);\r\n\r\n        if (selectedType === \"file\")\r\n          this.props.onSelectFile(\r\n            this.state.selection.map((key) => this.getFile(key))\r\n          );\r\n        if (selectedType === \"folder\") this.props.onSelectFolder(selected);\r\n      }\r\n    );\r\n  };\r\n\r\n  preview = (file) => {\r\n    if (this.state.previewFile && this.state.previewFile.key !== file.key)\r\n      this.closeDetail();\r\n\r\n    this.setState(\r\n      {\r\n        previewFile: file,\r\n      },\r\n      () => {\r\n        this.props.onPreviewOpen(file);\r\n      }\r\n    );\r\n  };\r\n\r\n  // Should be ok\r\n  closeDetail = () => {\r\n    this.setState(\r\n      {\r\n        previewFile: null,\r\n      },\r\n      () => {\r\n        this.props.onPreviewClose(this.state.previewFile);\r\n      }\r\n    );\r\n  };\r\n\r\n  // Not used\r\n  handleShowMoreClick = (event) => {\r\n    event.preventDefault();\r\n    this.setState((prevState) => ({\r\n      searchResultsShown:\r\n        prevState.searchResultsShown + SEARCH_RESULTS_PER_PAGE,\r\n    }));\r\n  };\r\n\r\n  // Changes here\r\n  toggleFolder = (folderKey) => {\r\n    const isOpen = folderKey in this.state.openFolders;\r\n    this.setState(\r\n      (prevState) => {\r\n        const stateChanges = {\r\n          openFolders: { ...prevState.openFolders },\r\n        };\r\n        if (isOpen) {\r\n          delete stateChanges.openFolders[folderKey];\r\n        } else {\r\n          stateChanges.openFolders[folderKey] = true;\r\n        }\r\n        return stateChanges;\r\n      },\r\n      () => {\r\n        const callback = isOpen ? \"onFolderClose\" : \"onFolderOpen\";\r\n        this.props[callback](this.getFile(folderKey));\r\n      }\r\n    );\r\n  };\r\n\r\n  openFolder = (folderKey) => {\r\n    this.setState(\r\n      (prevState) => ({\r\n        openFolders: {\r\n          ...prevState.openFolders,\r\n          [folderKey]: true,\r\n        },\r\n      }),\r\n      () => {\r\n        this.props.onFolderOpen(this.getFile(folderKey));\r\n      }\r\n    );\r\n  };\r\n\r\n  // event handlers\r\n  handleGlobalClick = (event) => {\r\n    const inBrowser = !!(\r\n      this.browserRef && this.browserRef.contains(event.target)\r\n    );\r\n    // TODO: updated old-to-new ref styles, but this ref was never set\r\n    const inPreview = !!(\r\n      this.previewRef && this.previewRef.contains(event.target)\r\n    );\r\n\r\n    if (!inBrowser && !inPreview) {\r\n      this.setState({\r\n        selection: [],\r\n        actionTargets: [],\r\n        activeAction: null,\r\n      });\r\n    }\r\n  };\r\n  handleActionBarRenameClick = (event) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n    console.log(\r\n      \"Action bar rename triggered, the selection is\",\r\n      this.state.selection\r\n    );\r\n    // event.preventDefault();\r\n    // Should check this\r\n    this.beginAction(\"rename\", this.state.selection);\r\n  };\r\n  // Not using this\r\n  handleActionBarDeleteClick = (event) => {\r\n    event.preventDefault();\r\n    this.beginAction(\"delete\", this.state.selection);\r\n  };\r\n  // Not using this\r\n  handleActionBarAddFolderClick = () => {\r\n    // event.preventDefault();\r\n    if (this.state.activeAction === \"createFolder\") {\r\n      return;\r\n    }\r\n    this.setState((prevState) => {\r\n      let addKey = \"\";\r\n      if (prevState.selection && prevState.selection.length > 0) {\r\n        addKey += prevState.selection;\r\n        if (addKey.substr(addKey.length - 1, addKey.length) !== \"/\") {\r\n          addKey += \"/\";\r\n        }\r\n      }\r\n\r\n      if (addKey !== \"__new__/\" && !addKey.endsWith(\"/__new__/\"))\r\n        addKey += \"__new__/\";\r\n      const stateChanges = {\r\n        actionTargets: [addKey],\r\n        activeAction: \"createFolder\",\r\n        selection: [addKey],\r\n      };\r\n      if (prevState.selection && prevState.selection.length > 0) {\r\n        stateChanges.openFolders = {\r\n          ...prevState.openFolders,\r\n          [this.state.selection]: true,\r\n        };\r\n      }\r\n      return stateChanges;\r\n    });\r\n  };\r\n  // Not using this\r\n  handleActionBarDownloadClick = (event) => {\r\n    event.preventDefault();\r\n    this.downloadFile(this.state.selection);\r\n  };\r\n  // ok\r\n  updateFilter = (newValue) => {\r\n    this.setState({\r\n      nameFilter: newValue,\r\n      searchResultsShown: SEARCH_RESULTS_PER_PAGE,\r\n    });\r\n  };\r\n\r\n  getBrowserProps() {\r\n    return {\r\n      // browser config\r\n      nestChildren: this.props.nestChildren,\r\n      fileRenderer: this.props.fileRenderer,\r\n      fileRendererProps: this.props.fileRendererProps,\r\n      folderRenderer: this.props.folderRenderer,\r\n      folderRendererProps: this.props.folderRendererProps,\r\n      confirmDeletionRenderer: this.props.confirmDeletionRenderer,\r\n      confirmMultipleDeletionRenderer: this.props\r\n        .confirmMultipleDeletionRenderer,\r\n      icons: this.props.icons,\r\n\r\n      // browser state\r\n      openFolders: this.state.openFolders,\r\n      nameFilter: this.state.nameFilter,\r\n      selection: this.state.selection,\r\n      activeAction: this.state.activeAction,\r\n      actionTargets: this.state.actionTargets,\r\n\r\n      // browser manipulation\r\n      select: this.select,\r\n      openFolder: this.openFolder,\r\n      toggleFolder: this.toggleFolder,\r\n      beginAction: this.beginAction,\r\n      endAction: this.endAction,\r\n      preview: this.preview,\r\n\r\n      // item manipulation\r\n      createFiles: this.props.onCreateFiles ? this.createFiles : undefined,\r\n      createFolder: this.props.onCreateFolder ? this.createFolder : undefined,\r\n      renameFile: this.props.onRenameFile ? this.renameFile : undefined,\r\n      renameFolder: this.props.onRenameFolder ? this.renameFolder : undefined,\r\n      moveFile: this.props.onMoveFile ? this.moveFile : undefined,\r\n      moveFolder: this.props.onMoveFolder ? this.moveFolder : undefined,\r\n      deleteFile: this.props.onDeleteFile ? this.deleteFile : undefined,\r\n      deleteFolder: this.props.onDeleteFolder ? this.deleteFolder : undefined,\r\n\r\n      getItemProps: getItemProps,\r\n    };\r\n  }\r\n\r\n  renderActionBar(selectedItems) {\r\n    const {\r\n      icons,\r\n      canFilter,\r\n      filterRendererProps,\r\n      filterRenderer: FilterRenderer,\r\n      actionRenderer: ActionRenderer,\r\n      onCreateFolder,\r\n      onRenameFile,\r\n      onRenameFolder,\r\n      onDeleteFile,\r\n      onDeleteFolder,\r\n      onDownloadFile,\r\n    } = this.props;\r\n    const browserProps = this.getBrowserProps();\r\n    const selectionIsFolder =\r\n      selectedItems.length === 1 && !selectedItems[0].size;\r\n    let filter;\r\n    if (canFilter) {\r\n      filter = (\r\n        <FilterRenderer\r\n          value={this.state.nameFilter}\r\n          icons={this.props.icons}\r\n          updateFilter={this.updateFilter}\r\n          {...filterRendererProps}\r\n        />\r\n      );\r\n    }\r\n\r\n    const actions = (\r\n      <ActionRenderer\r\n        browserProps={browserProps}\r\n        selectedItems={selectedItems}\r\n        isFolder={selectionIsFolder}\r\n        icons={icons}\r\n        nameFilter={this.state.nameFilter}\r\n        canCreateFolder={typeof onCreateFolder === \"function\"}\r\n        onCreateFolder={this.handleActionBarAddFolderClick}\r\n        canRenameFile={typeof onRenameFile === \"function\"}\r\n        onRenameFile={this.handleActionBarRenameClick}\r\n        canRenameFolder={typeof onRenameFolder === \"function\"}\r\n        onRenameFolder={this.handleActionBarRenameClick}\r\n        canDeleteFile={typeof onDeleteFile === \"function\"}\r\n        onDeleteFile={this.handleActionBarDeleteClick}\r\n        canDeleteFolder={typeof onDeleteFolder === \"function\"}\r\n        onDeleteFolder={this.handleActionBarDeleteClick}\r\n        canDownloadFile={typeof onDownloadFile === \"function\"}\r\n        onDownloadFile={this.handleActionBarDownloadClick}\r\n      />\r\n    );\r\n\r\n    return (\r\n      <div className=\"action-bar\" ref={this.actionBarRef}>\r\n        {filter}\r\n        {actions}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderFiles(files, depth) {\r\n    const {\r\n      fileRenderer: FileRenderer,\r\n      fileRendererProps,\r\n      folderRenderer: FolderRenderer,\r\n      folderRendererProps,\r\n    } = this.props;\r\n    const browserProps = this.getBrowserProps();\r\n    let renderedFiles = [];\r\n\r\n    files.map((file) => {\r\n      const thisItemProps = {\r\n        ...browserProps.getItemProps(file, browserProps),\r\n        depth: this.state.nameFilter ? 0 : depth,\r\n      };\r\n\r\n      if (!isFolder(file)) {\r\n        renderedFiles.push(\r\n          <FileRenderer\r\n            {...file}\r\n            {...thisItemProps}\r\n            browserProps={browserProps}\r\n            isShouldShowShared={this.isShouldShowShared()}\r\n            {...fileRendererProps}\r\n          />\r\n        );\r\n      } else {\r\n        if (this.props.showFoldersOnFilter || !this.state.nameFilter) {\r\n          renderedFiles.push(\r\n            <FolderRenderer\r\n              {...file}\r\n              {...thisItemProps}\r\n              isShouldShowShared={this.isShouldShowShared()}\r\n              browserProps={browserProps}\r\n              {...folderRendererProps}\r\n            />\r\n          );\r\n        }\r\n        if (\r\n          this.state.nameFilter ||\r\n          (thisItemProps.isOpen && !browserProps.nestChildren)\r\n        ) {\r\n          renderedFiles = renderedFiles.concat(\r\n            this.renderFiles(file.children, depth + 1)\r\n          );\r\n        }\r\n      }\r\n    });\r\n    return renderedFiles;\r\n  }\r\n  // Not using this\r\n  handleMultipleDeleteSubmit = () => {\r\n    console.log(this);\r\n    this.deleteFolder(\r\n      this.state.selection.filter(\r\n        (selection) => selection[selection.length - 1] === \"/\"\r\n      )\r\n    );\r\n    this.deleteFile(\r\n      this.state.selection.filter(\r\n        (selection) => selection[selection.length - 1] !== \"/\"\r\n      )\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { selection } = this.state;\r\n\r\n    const browserProps = this.getBrowserProps();\r\n    const headerProps = {\r\n      browserProps,\r\n      fileKey: \"\",\r\n      fileCount: this.props.files.length,\r\n      isShouldShowShared: this.isShouldShowShared(),\r\n    };\r\n    let renderedFiles;\r\n\r\n    let files = this.props.files.concat([]);\r\n    if (this.state.activeAction === \"createFolder\") {\r\n      files.push({\r\n        key: this.state.actionTargets[0],\r\n        size: 0,\r\n        draft: true,\r\n      });\r\n    }\r\n    if (this.state.nameFilter) {\r\n      const filteredFiles = [];\r\n      const terms = this.state.nameFilter.toLowerCase().split(\" \");\r\n      files.map((file) => {\r\n        let skip = false;\r\n        terms.map((term) => {\r\n          if (file.key.toLowerCase().trim().indexOf(term) === -1) {\r\n            skip = true;\r\n          }\r\n        });\r\n        if (skip) {\r\n          return;\r\n        }\r\n        filteredFiles.push(file);\r\n      });\r\n      files = filteredFiles;\r\n    }\r\n    if (typeof this.props.group === \"function\") {\r\n      files = this.props.group(files, \"\");\r\n    } else {\r\n      const newFiles = [];\r\n      files.map((file) => {\r\n        if (!isFolder(file)) {\r\n          newFiles.push(file);\r\n        }\r\n      });\r\n      files = newFiles;\r\n    }\r\n    const selectedItems = [];\r\n    const findSelected = (item) => {\r\n      if (selection.includes(item.key)) {\r\n        selectedItems.push(item);\r\n      }\r\n      if (item.children) {\r\n        item.children.map(findSelected);\r\n      }\r\n    };\r\n    files.map(findSelected);\r\n    if (typeof this.props.sort === \"function\") {\r\n      files = this.props.sort(files);\r\n    }\r\n\r\n    let header;\r\n    /** @type any */\r\n    let contents = this.renderFiles(files, 0);\r\n    switch (this.props.renderStyle) {\r\n      case \"table\":\r\n        if (!contents.length) {\r\n          if (this.state.nameFilter) {\r\n            contents = (\r\n              <tr>\r\n                <td colSpan={100}>\r\n                  No files matching \"{this.state.nameFilter}\".\r\n                </td>\r\n              </tr>\r\n            );\r\n          } else {\r\n            contents = (\r\n              <tr>\r\n                <td colSpan={100}>{this.props.noFilesMessage}</td>\r\n              </tr>\r\n            );\r\n          }\r\n        } else {\r\n          if (this.state.nameFilter) {\r\n            const numFiles = contents.length;\r\n            contents = contents.slice(0, this.state.searchResultsShown);\r\n            if (numFiles > contents.length) {\r\n              contents.push(\r\n                <tr key=\"show-more\">\r\n                  <td colSpan={100}>\r\n                    <a onClick={this.handleShowMoreClick} href=\"#\">\r\n                      Show more results\r\n                    </a>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.props.headerRenderer) {\r\n          header = (\r\n            <thead>\r\n              <this.props.headerRenderer\r\n                {...headerProps}\r\n                {...this.props.headerRendererProps}\r\n              />\r\n            </thead>\r\n          );\r\n        }\r\n\r\n        renderedFiles = (\r\n          <table cellSpacing=\"0\" cellPadding=\"0\">\r\n            {header}\r\n            <tbody>{contents}</tbody>\r\n          </table>\r\n        );\r\n        break;\r\n\r\n      case \"list\":\r\n        if (!contents.length) {\r\n          if (this.state.nameFilter) {\r\n            contents = (\r\n              <p className=\"empty\">\r\n                No files matching \"{this.state.nameFilter}\"\r\n              </p>\r\n            );\r\n          } else {\r\n            contents = <p className=\"empty\">No files.</p>;\r\n          }\r\n        } else {\r\n          let more;\r\n          if (this.state.nameFilter) {\r\n            const numFiles = contents.length;\r\n            contents = contents.slice(0, this.state.searchResultsShown);\r\n            if (numFiles > contents.length) {\r\n              more = (\r\n                <a onClick={this.handleShowMoreClick} href=\"#\">\r\n                  Show more results\r\n                </a>\r\n              );\r\n            }\r\n          }\r\n          contents = (\r\n            <div>\r\n              <ul>{contents}</ul>\r\n              {more}\r\n            </div>\r\n          );\r\n        }\r\n\r\n        if (this.props.headerRenderer) {\r\n          header = (\r\n            <this.props.headerRenderer\r\n              {...headerProps}\r\n              {...this.props.headerRendererProps}\r\n            />\r\n          );\r\n        }\r\n\r\n        renderedFiles = (\r\n          <div>\r\n            {header}\r\n            {contents}\r\n          </div>\r\n        );\r\n        break;\r\n    }\r\n\r\n    const ConfirmMultipleDeletionRenderer = this.props\r\n      .confirmMultipleDeletionRenderer;\r\n\r\n    return (\r\n      <div className=\"rendered-react-keyed-file-browser\">\r\n        {this.props.actions}\r\n        <div\r\n          className=\"rendered-file-browser\"\r\n          ref={(el) => {\r\n            this.browserRef = el;\r\n          }}\r\n        >\r\n          {this.props.showActionBar && this.renderActionBar(selectedItems)}\r\n          {this.state.activeAction === \"delete\" &&\r\n            this.state.selection.length > 1 && (\r\n              <ConfirmMultipleDeletionRenderer\r\n                handleDeleteSubmit={this.handleMultipleDeleteSubmit}\r\n              />\r\n            )}\r\n          <div className=\"files\">{renderedFiles}</div>\r\n        </div>\r\n        {this.state.previewFile !== null && (\r\n          <this.props.detailRenderer\r\n            file={this.state.previewFile}\r\n            close={this.closeDetail}\r\n            {...this.props.detailRendererProps}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n@DragDropContext(HTML5Backend)\r\nclass FileBrowser extends RawFileBrowser {}\r\n\r\nexport default FileBrowser;\r\nexport { RawFileBrowser };\r\n","import React from \"react\";\r\n\r\n// See https://allthingssmitty.com/2016/09/12/checking-if-font-awesome-loaded/\r\nconst IsFontAwesomeLoaded = (version) => {\r\n  const prefix = version === 4 ? \"fa\" : \"fas\";\r\n  const fontNames =\r\n    version === 4\r\n      ? [\"FontAwesome\", '\"FontAwesome\"']\r\n      : ['\"Font Awesome 5 Free\"', '\"Font Awesome 5 Pro\"'];\r\n  let FontAwesomeLoaded = false;\r\n  const span = document.createElement(\"span\");\r\n\r\n  span.className = prefix;\r\n  span.style.display = \"none\";\r\n  document.body.insertBefore(span, document.body.firstChild);\r\n\r\n  const css = (element, property) =>\r\n    window.getComputedStyle(element, null).getPropertyValue(property);\r\n\r\n  if (!fontNames.includes(css(span, \"font-family\"))) {\r\n    console.warn(\r\n      `Font Awesome ${version} was not detected but Font Awesome ${version} icons have been requested for \\`react-object-list\\``\r\n    );\r\n  } else {\r\n    FontAwesomeLoaded = true;\r\n  }\r\n  document.body.removeChild(span);\r\n  return FontAwesomeLoaded;\r\n};\r\n\r\nconst FontAwesomeIcons = (majorVersion = 4) => {\r\n  switch (majorVersion) {\r\n    case 4:\r\n      IsFontAwesomeLoaded(4);\r\n      return {\r\n        File: <i className=\"fa fa-file\" aria-hidden=\"true\" />,\r\n        Image: <i className=\"fa fa-file-image\" aria-hidden=\"true\" />,\r\n        Video: <i className=\"fa fa-file-video\" aria-hidden=\"true\" />,\r\n        Audio: <i className=\"fa fa-file-audio\" aria-hidden=\"true\" />,\r\n        Archive: <i className=\"fa fa-file-archive\" aria-hidden=\"true\" />,\r\n        Word: <i className=\"fa fa-file-word\" aria-hidden=\"true\" />,\r\n        Excel: <i className=\"fa fa-file-excel\" aria-hidden=\"true\" />,\r\n        PowerPoint: <i className=\"fa fa-file-powerpoint\" aria-hidden=\"true\" />,\r\n        Text: <i className=\"fa fa-file-text\" aria-hidden=\"true\" />,\r\n        PDF: <i className=\"fa fa-file-pdf\" aria-hidden=\"true\" />,\r\n        Rename: <i className=\"fa fa-i-cursor\" aria-hidden=\"true\" />,\r\n        Folder: <i className=\"fa fa-folder-o\" aria-hidden=\"true\" />,\r\n        FolderFilled: <i className=\"fa fa-folder\" aria-hidden=\"true\" />,\r\n        FolderOpen: <i className=\"fa fa-folder-open-o\" aria-hidden=\"true\" />,\r\n        FolderOpenFilled: (\r\n          <i className=\"fa fa-folder-open\" aria-hidden=\"true\" />\r\n        ),\r\n        Delete: <i className=\"fa fa-trash-o\" aria-hidden=\"true\" />,\r\n        Loading: (\r\n          <i className=\"fa fa-circle-o-notch fa-spin\" aria-hidden=\"true\" />\r\n        ),\r\n        Download: <i className=\"fa fa-download\" aria-hidden=\"true\" />,\r\n      };\r\n    case 5:\r\n      IsFontAwesomeLoaded(5);\r\n      return {\r\n        File: <i className=\"fas fa-file\"></i>,\r\n        Image: <i className=\"fas fa-file-image\"></i>,\r\n        Video: <i className=\"fas fa-file-video\"></i>,\r\n        Audio: <i className=\"fas fa-file-audio\"></i>,\r\n        Archive: <i className=\"fas fa-file-archive\"></i>,\r\n        Word: <i className=\"fas fa-file-word\"></i>,\r\n        Excel: <i className=\"fas fa-file-excel\"></i>,\r\n        PowerPoint: <i className=\"fas fa-file-powerpoint\"></i>,\r\n        Text: <i className=\"fas fa-file-alt\"></i>,\r\n        PDF: <i className=\"fas fa-file-pdf\"></i>,\r\n        Rename: <i className=\"fas fa-remove-format\"></i>,\r\n        Folder: <i className=\"fas fa-folder\"></i>,\r\n        FolderFilled: <i className=\"fas fa-folder\"></i>,\r\n        FolderPlus: <i className=\"fas fa-folder-plus\"></i>,\r\n        FolderOpen: <i className=\"fas fa-folder-open\"></i>,\r\n        Delete: <i className=\"fas fa-trash\"></i>,\r\n        Loading: (\r\n          <i className=\"fas fa-circle-notch fa-spin\" aria-hidden=\"true\" />\r\n        ),\r\n        Download: <i className=\"fas fa-file-download\"></i>,\r\n      };\r\n    default:\r\n      console.warn(\r\n        `Could not find config for version ${majorVersion}`,\r\n        \"Accepted versions are: 4, 5\",\r\n        \"Please make an issue in `react-object-list` to fix this.\"\r\n      );\r\n  }\r\n};\r\n\r\nexport default FontAwesomeIcons;\r\n","// @ts-nocheck\r\nimport FileBrowser, { RawFileBrowser } from './browser'\r\nimport BaseFile, { BaseFileConnectors } from './base-file'\r\nimport BaseFolder, { BaseFolderConnectors } from './base-folder'\r\n\r\nimport * as Headers from './headers'\r\nimport * as FileRenderers from './files'\r\nimport * as FolderRenderers from './folders'\r\n\r\nimport * as Details from './details'\r\nimport * as Filters from './filters'\r\nimport * as Groupers from './groupers'\r\nimport * as Sorters from './sorters'\r\nimport * as Icons from './icons'\r\nimport * as Utils from './utils'\r\n\r\nexport default FileBrowser\r\nexport {\r\n  RawFileBrowser, // Use this one if you want to wrap with dragdrop context yourself.\r\n\r\n  BaseFile,\r\n  BaseFileConnectors,\r\n  BaseFolder,\r\n  BaseFolderConnectors,\r\n\r\n  Headers,\r\n  FileRenderers,\r\n  FolderRenderers,\r\n\r\n  Details,\r\n  Filters,\r\n  Groupers,\r\n  Sorters,\r\n  Icons,\r\n  Utils,\r\n}\r\n"],"sourceRoot":""}